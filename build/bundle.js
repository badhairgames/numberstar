var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(){return d("")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function y(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function b(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let x;function k(t){x=t}function C(){const t=function(){if(!x)throw new Error("Function called outside component initialization");return x}();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}(e,n,{cancelable:s});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const S=[],N=[],_=[],M=[],D=Promise.resolve();let T=!1;function H(){T||(T=!0,D.then(E))}function P(){return H(),D}function I(t){_.push(t)}function z(t){M.push(t)}const L=new Set;let q=0;function E(){if(0!==q)return;const t=x;do{try{for(;q<S.length;){const t=S[q];q++,k(t),G(t.$$)}}catch(t){throw S.length=0,q=0,t}for(k(null),S.length=0,q=0;N.length;)N.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];L.has(e)||(L.add(e),e())}_.length=0}while(S.length);for(;M.length;)M.pop()();T=!1,L.clear(),k(t)}function G(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const O=new Set;let Q;function A(){Q={r:0,c:[],p:Q}}function R(){Q.r||s(Q.c),Q=Q.p}function W(t,e){t&&t.i&&(O.delete(t),t.i(e))}function j(t,e,n,s){if(t&&t.o){if(O.has(t))return;O.add(t),Q.c.push((()=>{O.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}function F(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function B(t){t&&t.c()}function V(t,n,o,i){const{fragment:c,after_update:l}=t.$$;c&&c.m(n,o),i||I((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):s(n),t.$$.on_mount=[]})),l.forEach(I)}function Y(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,r,o,i,c,l,a,f=[-1]){const m=x;k(e);const d=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||m.$$.root};a&&a(d.root);let h=!1;if(d.ctx=o?o(e,r.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),H(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),h=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();r.intro&&W(e.$$.fragment),V(e,r.target,r.anchor,r.customElement),E()}k(m)}class K{$destroy(){Y(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var U,X;function Z(e){let n,s,r,o;return{c(){n=m("button"),s=d(e[0]),g(n,"class","svelte-19ga9zu")},m(t,i){a(t,n,i),l(n,s),r||(o=$(n,"click",e[1]),r=!0)},p(t,[e]){1&e&&v(s,t[0])},i:t,o:t,d(t){t&&u(n),r=!1,o()}}}function tt(t,e,n){let{text:s}=e;const r=C();return t.$$set=t=>{"text"in t&&n(0,s=t.text)},[s,function(){r("click",{text:s})}]}!function(t){t[t.standard=0]="standard",t[t.timed=1]="timed",t[t.practice=2]="practice"}(U||(U={}));class et extends K{constructor(t){super(),J(this,t,tt,Z,o,{text:0})}}function nt(e){let n,r,o,i,c,f,d,p,v,w,y,b,x,k,C,S,N,_,M;return w=new et({props:{text:"Play"}}),w.$on("click",e[3]),x=new et({props:{text:"Timed"}}),x.$on("click",e[4]),S=new et({props:{text:"Practice"}}),S.$on("click",e[5]),{c(){n=m("div"),r=m("button"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svelte-a1akeh"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></svg>',o=h(),i=m("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="svg-icon svelte-a1akeh"><g><rect fill="none" height="24" width="24"></rect></g><g><g><rect height="11" width="4" x="4" y="9"></rect><rect height="7" width="4" x="16" y="13"></rect><rect height="16" width="4" x="10" y="4"></rect></g></g></svg>',c=h(),f=m("h1"),f.textContent="numberSTAR",d=h(),p=m("ul"),v=m("li"),B(w.$$.fragment),y=h(),b=m("li"),B(x.$$.fragment),k=h(),C=m("li"),B(S.$$.fragment),g(r,"class","svelte-a1akeh"),g(i,"class","svelte-a1akeh"),g(n,"class","utility svelte-a1akeh"),g(v,"class","svelte-a1akeh"),g(b,"class","svelte-a1akeh"),g(C,"class","svelte-a1akeh"),g(p,"class","svelte-a1akeh")},m(t,s){a(t,n,s),l(n,r),l(n,o),l(n,i),a(t,c,s),a(t,f,s),a(t,d,s),a(t,p,s),l(p,v),V(w,v,null),l(p,y),l(p,b),V(x,b,null),l(p,k),l(p,C),V(S,C,null),N=!0,_||(M=[$(r,"click",e[1]),$(i,"click",e[2])],_=!0)},p:t,i(t){N||(W(w.$$.fragment,t),W(x.$$.fragment,t),W(S.$$.fragment,t),N=!0)},o(t){j(w.$$.fragment,t),j(x.$$.fragment,t),j(S.$$.fragment,t),N=!1},d(t){t&&u(n),t&&u(c),t&&u(f),t&&u(d),t&&u(p),Y(w),Y(x),Y(S),_=!1,s(M)}}}function st(t){const e=C();return[e,()=>e("help"),()=>e("stats"),()=>e("options",{gameType:U.standard}),()=>e("options",{gameType:U.timed}),()=>e("options",{gameType:U.practice})]}class rt extends K{constructor(t){super(),J(this,t,st,nt,o,{})}}function ot(e){let n,s,r;return{c(){n=m("button"),n.textContent="×",g(n,"class","svelte-1pkrx8")},m(t,o){a(t,n,o),s||(r=$(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,r()}}}function it(t){const e=C();return[e,()=>e("close")]}class ct extends K{constructor(t){super(),J(this,t,it,ot,o,{})}}function lt(e){let n,s,r,o,i,c,l,f,d,p,$,g;return n=new ct({}),n.$on("close",e[1]),{c(){B(n.$$.fragment),s=h(),r=m("h1"),r.textContent="How to play",o=h(),i=m("p"),i.textContent="Pick from one of the three available game modes: Standard, Timed and Practice.",c=h(),l=m("p"),l.textContent="Each mode presents a series of random questions and four possible answers. Select the correct answer before the time\r\n    runs out!",f=h(),d=m("p"),d.textContent="Both Standard and Timed allow you to select a difficulty level. Practice mode lets you choose the numbers and\r\n    operators you want to revise. This lets you practice your 7 times tables, for example.",p=h(),$=m("p"),$.textContent="Standard mode keeps going until you run out of lives. In timed and practice mode, answer as many questions as you\r\n    can within a minute."},m(t,e){V(n,t,e),a(t,s,e),a(t,r,e),a(t,o,e),a(t,i,e),a(t,c,e),a(t,l,e),a(t,f,e),a(t,d,e),a(t,p,e),a(t,$,e),g=!0},p:t,i(t){g||(W(n.$$.fragment,t),g=!0)},o(t){j(n.$$.fragment,t),g=!1},d(t){Y(n,t),t&&u(s),t&&u(r),t&&u(o),t&&u(i),t&&u(c),t&&u(l),t&&u(f),t&&u(d),t&&u(p),t&&u($)}}}function at(t){const e=C();return[e,()=>e("close")]}class ut extends K{constructor(t){super(),J(this,t,at,lt,o,{})}}!function(t){t[t.easy=0]="easy",t[t.medium=1]="medium",t[t.hard=2]="hard",t[t.insane=3]="insane"}(X||(X={}));const ft=[];class mt{constructor(){this.gamesPlayed=0,this.maxStreak=0,this.currentStreak=0,this.stats=[]}}const dt=function(e,n=t){let s;const r=new Set;function i(t){if(o(e,t)&&(e=t,s)){const t=!ft.length;for(const t of r)t[1](),ft.push(t,e);if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,c=t){const l=[o,c];return r.add(l),1===r.size&&(s=n(i)||t),o(e),()=>{r.delete(l),0===r.size&&(s(),s=null)}}}}(JSON.parse(localStorage.getItem("numberStar_History")));dt.subscribe((t=>localStorage.numberStar_History=JSON.stringify(t)));class ht{constructor(){this.highScore=0,this.last10Games=[]}}class pt{static update(t,e){pt.setStreak(t),t.gamesPlayed++;const n=pt.getHistoryGame(t,e);10==n.last10Games.length&&n.last10Games.shift(),n.last10Games.push(e.score),n.highScore=Math.max(n.highScore,e.score)}static getHistoryGame(t,e){let n=t.stats.find((t=>t.difficulty===e.options.difficulty&&t.mode===e.options.mode));return n||(n=new ht,n.difficulty=e.options.difficulty,n.mode=e.options.mode,t.stats.push(n)),n}static setStreak(t){t.currentDate?this.isYesterday(new Date(t.currentDate))?(t.currentDate=new Date,t.currentStreak++):this.isToday(new Date(t.currentDate))||pt.resetStreak(t):pt.resetStreak(t),pt.setMaxStreak(t)}static isToday(t){const e=new Date;return this.doDatesMatch(t,e)}static isYesterday(t){let e=new Date;return e.setDate(e.getDate()-1),this.doDatesMatch(t,e)}static doDatesMatch(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}static setMaxStreak(t){t.currentStreak>t.maxStreak&&(t.maxStreak=t.currentStreak)}static resetStreak(t){t.currentDate=new Date,t.currentStreak=1}}function $t(t,e,n){const s=t.slice();return s[21]=e[n],s}function gt(t,e,n){const s=t.slice();return s[21]=e[n],s}function vt(t,e,n){const s=t.slice();return s[26]=e[n],s[28]=n,s}function wt(t,e,n){const s=t.slice();return s[26]=e[n],s[28]=n,s}function yt(e){let n,s,r=e[26]+"";return{c(){n=m("option"),s=d(r),n.__value=e[28],n.value=n.__value},m(t,e){a(t,n,e),l(n,s)},p:t,d(t){t&&u(n)}}}function bt(t){let e,n,r,o=t[9](),i=[];for(let e=0;e<o.length;e+=1)i[e]=xt(vt(t,o,e));return{c(){e=m("select");for(let t=0;t<i.length;t+=1)i[t].c();g(e,"class","svelte-1ks0rvr"),void 0===t[1]&&I((()=>t[17].call(e)))},m(s,o){a(s,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);y(e,t[1]),n||(r=[$(e,"change",t[17]),$(e,"change",t[11])],n=!0)},p(t,n){if(512&n){let s;for(o=t[9](),s=0;s<o.length;s+=1){const r=vt(t,o,s);i[s]?i[s].p(r,n):(i[s]=xt(r),i[s].c(),i[s].m(e,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}2&n&&y(e,t[1])},d(t){t&&u(e),f(i,t),n=!1,s(r)}}}function xt(e){let n,s,r=e[26]+"";return{c(){n=m("option"),s=d(r),n.__value=e[28],n.value=n.__value},m(t,e){a(t,n,e),l(n,s)},p:t,d(t){t&&u(n)}}}function kt(e){let n;return{c(){n=m("span"),n.textContent="No statistics for this game type.",g(n,"class","text svelte-1ks0rvr")},m(t,e){a(t,n,e)},p:t,d(t){t&&u(n)}}}function Ct(t){let e,n,s,r,o=t[3].highScore+"";return{c(){e=m("span"),n=d(o),s=h(),r=m("span"),r.textContent="Highest Score",g(e,"class","score svelte-1ks0rvr"),g(r,"class","text svelte-1ks0rvr")},m(t,o){a(t,e,o),l(e,n),a(t,s,o),a(t,r,o)},p(t,e){8&e&&o!==(o=t[3].highScore+"")&&v(n,o)},d(t){t&&u(e),t&&u(s),t&&u(r)}}}function St(t){let e,n,s,r,o,i=t[3].last10Games,c=[];for(let e=0;e<i.length;e+=1)c[e]=Nt(gt(t,i,e));let l=t[3].last10Games,d=[];for(let e=0;e<l.length;e+=1)d[e]=_t($t(t,l,e));return{c(){e=m("h2"),e.textContent="Last 10 Games",n=h(),s=m("div");for(let t=0;t<c.length;t+=1)c[t].c();r=h(),o=m("div");for(let t=0;t<d.length;t+=1)d[t].c();g(e,"class","svelte-1ks0rvr"),g(s,"class","graph svelte-1ks0rvr"),g(o,"class","legend svelte-1ks0rvr")},m(t,i){a(t,e,i),a(t,n,i),a(t,s,i);for(let t=0;t<c.length;t+=1)c[t].m(s,null);a(t,r,i),a(t,o,i);for(let t=0;t<d.length;t+=1)d[t].m(o,null)},p(t,e){if(4120&e){let n;for(i=t[3].last10Games,n=0;n<i.length;n+=1){const r=gt(t,i,n);c[n]?c[n].p(r,e):(c[n]=Nt(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=i.length}if(8200&e){let n;for(l=t[3].last10Games,n=0;n<l.length;n+=1){const s=$t(t,l,n);d[n]?d[n].p(s,e):(d[n]=_t(s),d[n].c(),d[n].m(o,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=l.length}},d(t){t&&u(e),t&&u(n),t&&u(s),f(c,t),t&&u(r),t&&u(o),f(d,t)}}}function Nt(t){let e,n;return{c(){e=m("div"),g(e,"class",n=c(t[12](t[21]))+" svelte-1ks0rvr"),w(e,"height",100*t[21]*t[4]+"%")},m(t,n){a(t,e,n)},p(t,s){8&s&&n!==(n=c(t[12](t[21]))+" svelte-1ks0rvr")&&g(e,"class",n),24&s&&w(e,"height",100*t[21]*t[4]+"%")},d(t){t&&u(e)}}}function _t(t){let e,n,s=t[13](t[21])+"";return{c(){e=m("div"),n=d(s),g(e,"class","label svelte-1ks0rvr")},m(t,s){a(t,e,s),l(e,n)},p(t,e){8&e&&s!==(s=t[13](t[21])+"")&&v(n,s)},d(t){t&&u(e)}}}function Mt(t){let e,n,r,o,i,c,p,w,b,x,k,C,S,N,_,M,D,T,H,P,z,L,q,E,G,O,Q,A,R,F=(t[5]?.gamesPlayed??0)+"";e=new ct({}),e.$on("close",t[15]);let J=t[8](),K=[];for(let e=0;e<J.length;e+=1)K[e]=yt(wt(t,J,e));let U=t[2]&&bt(t);function X(t,e){return t[3]?Ct:kt}let Z=X(t),tt=Z(t),et=t[3]&&St(t);return{c(){B(e.$$.fragment),n=h(),r=m("div"),o=m("div"),i=m("div"),c=d(F),p=h(),w=m("div"),w.textContent="Played",b=h(),x=m("div"),k=m("div"),k.textContent=`${t[14]()}`,C=h(),S=m("div"),S.textContent="Max Streak",N=h(),_=m("div"),M=m("div"),M.textContent=`${t[7]()}`,D=h(),T=m("div"),T.textContent="Current Streak",H=h(),P=m("div"),z=m("select");for(let t=0;t<K.length;t+=1)K[t].c();L=h(),U&&U.c(),q=h(),E=m("div"),tt.c(),G=h(),O=m("div"),et&&et.c(),g(i,"class","value svelte-1ks0rvr"),g(w,"class","text svelte-1ks0rvr"),g(o,"class","stat svelte-1ks0rvr"),g(k,"class","value svelte-1ks0rvr"),g(S,"class","text svelte-1ks0rvr"),g(x,"class","stat svelte-1ks0rvr"),g(M,"class","value svelte-1ks0rvr"),g(T,"class","text svelte-1ks0rvr"),g(_,"class","stat svelte-1ks0rvr"),g(r,"class","mainStats svelte-1ks0rvr"),g(z,"class","svelte-1ks0rvr"),void 0===t[0]&&I((()=>t[16].call(z))),g(P,"class","chooser svelte-1ks0rvr"),g(E,"class","highscore svelte-1ks0rvr"),g(O,"class","last10games svelte-1ks0rvr")},m(s,u){V(e,s,u),a(s,n,u),a(s,r,u),l(r,o),l(o,i),l(i,c),l(o,p),l(o,w),l(r,b),l(r,x),l(x,k),l(x,C),l(x,S),l(r,N),l(r,_),l(_,M),l(_,D),l(_,T),a(s,H,u),a(s,P,u),l(P,z);for(let t=0;t<K.length;t+=1)K[t].m(z,null);y(z,t[0]),l(P,L),U&&U.m(P,null),a(s,q,u),a(s,E,u),tt.m(E,null),a(s,G,u),a(s,O,u),et&&et.m(O,null),Q=!0,A||(R=[$(z,"change",t[16]),$(z,"change",t[10])],A=!0)},p(t,[e]){if((!Q||32&e)&&F!==(F=(t[5]?.gamesPlayed??0)+"")&&v(c,F),256&e){let n;for(J=t[8](),n=0;n<J.length;n+=1){const s=wt(t,J,n);K[n]?K[n].p(s,e):(K[n]=yt(s),K[n].c(),K[n].m(z,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=J.length}1&e&&y(z,t[0]),t[2]?U?U.p(t,e):(U=bt(t),U.c(),U.m(P,null)):U&&(U.d(1),U=null),Z===(Z=X(t))&&tt?tt.p(t,e):(tt.d(1),tt=Z(t),tt&&(tt.c(),tt.m(E,null))),t[3]?et?et.p(t,e):(et=St(t),et.c(),et.m(O,null)):et&&(et.d(1),et=null)},i(t){Q||(W(e.$$.fragment,t),Q=!0)},o(t){j(e.$$.fragment,t),Q=!1},d(t){Y(e,t),t&&u(n),t&&u(r),t&&u(H),t&&u(P),f(K,t),U&&U.d(),t&&u(q),t&&u(E),tt.d(),t&&u(G),t&&u(O),et&&et.d(),A=!1,s(R)}}}function Dt(t,e,n){let s;i(t,dt,(t=>n(5,s=t)));const r=C();let o,c,l,a=U.standard,u=X.medium,f=!0;function m(){return s?(pt.setStreak(s),s.currentStreak):0}function d(){switch(a){case U.timed:n(2,f=!0);break;case U.practice:n(2,f=!1);break;default:n(2,f=!0)}h()}function h(){n(3,o=null==s?void 0:s.stats.find((t=>t.mode===a&&(a===U.practice||t.difficulty===u)))),l=o?Math.max(...o.last10Games):0,n(4,c=1/l)}!function(){if(!(null==s?void 0:s.stats)||0===s.stats.length)return;let t=s.stats.find((t=>t.last10Games.length>0));t||(t=s.stats[0]),n(0,a=t.mode),n(1,u=t.difficulty)}(),d();return[a,u,f,o,c,s,r,m,function(){return Object.keys(U).filter((t=>!isNaN(Number(U[t]))))},function(){return Object.keys(X).filter((t=>!isNaN(Number(X[t]))))},d,h,function(t){return t===l?"bar selected":"bar"},function(t){return t===l?t.toString():""},function(){return s?(m(),s.maxStreak):0},()=>r("close"),function(){a=b(this),n(0,a)},function(){u=b(this),n(1,u)}]}class Tt extends K{constructor(t){super(),J(this,t,Dt,Mt,o,{})}}function Ht(e){let n,s,r,o,i,c,f,d,p,$,v,w,y,b,x;return i=new et({props:{text:"Easy"}}),i.$on("click",e[0]),d=new et({props:{text:"Medium"}}),d.$on("click",e[0]),v=new et({props:{text:"Hard"}}),v.$on("click",e[0]),b=new et({props:{text:"Insane"}}),b.$on("click",e[0]),{c(){n=m("h1"),n.textContent="Select Difficulty",s=h(),r=m("ul"),o=m("li"),B(i.$$.fragment),c=h(),f=m("li"),B(d.$$.fragment),p=h(),$=m("li"),B(v.$$.fragment),w=h(),y=m("li"),B(b.$$.fragment),g(n,"class","svelte-1qvfcl"),g(o,"class","svelte-1qvfcl"),g(f,"class","svelte-1qvfcl"),g($,"class","svelte-1qvfcl"),g(y,"class","svelte-1qvfcl"),g(r,"class","svelte-1qvfcl")},m(t,e){a(t,n,e),a(t,s,e),a(t,r,e),l(r,o),V(i,o,null),l(r,c),l(r,f),V(d,f,null),l(r,p),l(r,$),V(v,$,null),l(r,w),l(r,y),V(b,y,null),x=!0},p:t,i(t){x||(W(i.$$.fragment,t),W(d.$$.fragment,t),W(v.$$.fragment,t),W(b.$$.fragment,t),x=!0)},o(t){j(i.$$.fragment,t),j(d.$$.fragment,t),j(v.$$.fragment,t),j(b.$$.fragment,t),x=!1},d(t){t&&u(n),t&&u(s),t&&u(r),Y(i),Y(d),Y(v),Y(b)}}}function Pt(t,e,n){const s=C();let{game:r}=e;return t.$$set=t=>{"game"in t&&n(1,r=t.game)},[function(t){switch(t.detail.text){case"Easy":n(1,r.options.difficulty=X.easy,r),n(1,r.options.numbers=[1,2,3],r),n(1,r.options.operators=["+"],r);break;case"Medium":n(1,r.options.difficulty=X.medium,r),n(1,r.options.numbers=[1,2,3,4,5,6,7],r),n(1,r.options.operators=["+","-"],r);break;case"Hard":n(1,r.options.difficulty=X.hard,r),n(1,r.options.numbers=[1,2,3,4,5,6,7,8,9,10,11,12],r),n(1,r.options.operators=["+","-","×"],r);break;case"Insane":n(1,r.options.difficulty=X.insane,r),n(1,r.options.numbers=[3,4,5,6,7,8,9,11,12,13,14,15],r),n(1,r.options.operators=["+","-","×","÷"],r);break;default:n(1,r.options.difficulty=X.medium,r)}s("difficulty")},r]}class It extends K{constructor(t){super(),J(this,t,Pt,Ht,o,{game:1})}}function zt(e){let n,r,o,i,c,f;return{c(){n=m("div"),r=m("span"),o=d(e[2]),g(r,"class","svelte-ktpdjl"),g(n,"style",i="width: "+e[1]+"; "+(e[0]?"background: "+e[3]+"; ":"")),g(n,"class","svelte-ktpdjl")},m(t,s){a(t,n,s),l(n,r),l(r,o),c||(f=[$(n,"click",e[5]),$(n,"keyup",e[4])],c=!0)},p(t,[e]){4&e&&v(o,t[2]),11&e&&i!==(i="width: "+t[1]+"; "+(t[0]?"background: "+t[3]+"; ":""))&&g(n,"style",i)},i:t,o:t,d(t){t&&u(n),c=!1,s(f)}}}function Lt(t,e,n){let{width:s="30%"}=e,{selected:r=!1}=e,{text:o=""}=e,{keyCode:i="0"}=e,{selectedColour:c="#71C4F4"}=e;const l=C();function a(){n(0,r=!r),l("select",{text:o,selected:r})}return t.$$set=t=>{"width"in t&&n(1,s=t.width),"selected"in t&&n(0,r=t.selected),"text"in t&&n(2,o=t.text),"keyCode"in t&&n(6,i=t.keyCode),"selectedColour"in t&&n(3,c=t.selectedColour)},[r,s,o,c,function(t){console.log("Key up"),console.log(t.keyCode),t.keyCode==i&&a()},a,i]}class qt extends K{constructor(t){super(),J(this,t,Lt,zt,o,{width:1,selected:0,text:2,keyCode:6,selectedColour:3})}}function Et(e){let n,s,r,o,i,c,f,d,p,$,v,w,y,b,x,k,C,S,N,_,M,D,T,H,P;return s=new qt({props:{text:"1",keyCode:"49"}}),s.$on("select",e[0]),o=new qt({props:{text:"2",keyCode:"50"}}),o.$on("select",e[0]),c=new qt({props:{text:"3",keyCode:"51"}}),c.$on("select",e[0]),d=new qt({props:{text:"4",keyCode:"52"}}),d.$on("select",e[0]),$=new qt({props:{text:"5",keyCode:"53"}}),$.$on("select",e[0]),w=new qt({props:{text:"6",keyCode:"54"}}),w.$on("select",e[0]),b=new qt({props:{text:"7",keyCode:"55"}}),b.$on("select",e[0]),k=new qt({props:{text:"8",keyCode:"56"}}),k.$on("select",e[0]),S=new qt({props:{text:"9",keyCode:"57"}}),S.$on("select",e[0]),_=new qt({props:{text:"10",keyCode:"65"}}),_.$on("select",e[0]),D=new qt({props:{text:"11",keyCode:"66"}}),D.$on("select",e[0]),H=new qt({props:{text:"12",keyCode:"67"}}),H.$on("select",e[0]),{c(){n=m("div"),B(s.$$.fragment),r=h(),B(o.$$.fragment),i=h(),B(c.$$.fragment),f=h(),B(d.$$.fragment),p=h(),B($.$$.fragment),v=h(),B(w.$$.fragment),y=h(),B(b.$$.fragment),x=h(),B(k.$$.fragment),C=h(),B(S.$$.fragment),N=h(),B(_.$$.fragment),M=h(),B(D.$$.fragment),T=h(),B(H.$$.fragment),g(n,"class","container svelte-1m2wkw2")},m(t,e){a(t,n,e),V(s,n,null),l(n,r),V(o,n,null),l(n,i),V(c,n,null),l(n,f),V(d,n,null),l(n,p),V($,n,null),l(n,v),V(w,n,null),l(n,y),V(b,n,null),l(n,x),V(k,n,null),l(n,C),V(S,n,null),l(n,N),V(_,n,null),l(n,M),V(D,n,null),l(n,T),V(H,n,null),P=!0},p:t,i(t){P||(W(s.$$.fragment,t),W(o.$$.fragment,t),W(c.$$.fragment,t),W(d.$$.fragment,t),W($.$$.fragment,t),W(w.$$.fragment,t),W(b.$$.fragment,t),W(k.$$.fragment,t),W(S.$$.fragment,t),W(_.$$.fragment,t),W(D.$$.fragment,t),W(H.$$.fragment,t),P=!0)},o(t){j(s.$$.fragment,t),j(o.$$.fragment,t),j(c.$$.fragment,t),j(d.$$.fragment,t),j($.$$.fragment,t),j(w.$$.fragment,t),j(b.$$.fragment,t),j(k.$$.fragment,t),j(S.$$.fragment,t),j(_.$$.fragment,t),j(D.$$.fragment,t),j(H.$$.fragment,t),P=!1},d(t){t&&u(n),Y(s),Y(o),Y(c),Y(d),Y($),Y(w),Y(b),Y(k),Y(S),Y(_),Y(D),Y(H)}}}function Gt(t,e,n){let{numbers:s=[]}=e;return t.$$set=t=>{"numbers"in t&&n(1,s=t.numbers)},[function(t){const e=t.detail.selected,n=Number(t.detail.text),r=s.includes(n);if(e&&!r)s.push(n);else if(r){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class Ot extends K{constructor(t){super(),J(this,t,Gt,Et,o,{numbers:1})}}function Qt(e){let n,s,r,o,i,c,f,d,p;return s=new qt({props:{text:"+",keyCode:"49",width:"22%"}}),s.$on("select",e[0]),o=new qt({props:{text:"-",keyCode:"50",width:"22%"}}),o.$on("select",e[0]),c=new qt({props:{text:"×",keyCode:"51",width:"22%"}}),c.$on("select",e[0]),d=new qt({props:{text:"÷",keyCode:"52",width:"22%"}}),d.$on("select",e[0]),{c(){n=m("div"),B(s.$$.fragment),r=h(),B(o.$$.fragment),i=h(),B(c.$$.fragment),f=h(),B(d.$$.fragment),g(n,"class","container svelte-1p2b84u")},m(t,e){a(t,n,e),V(s,n,null),l(n,r),V(o,n,null),l(n,i),V(c,n,null),l(n,f),V(d,n,null),p=!0},p:t,i(t){p||(W(s.$$.fragment,t),W(o.$$.fragment,t),W(c.$$.fragment,t),W(d.$$.fragment,t),p=!0)},o(t){j(s.$$.fragment,t),j(o.$$.fragment,t),j(c.$$.fragment,t),j(d.$$.fragment,t),p=!1},d(t){t&&u(n),Y(s),Y(o),Y(c),Y(d)}}}function At(t,e,n){let{operators:s=[]}=e;return t.$$set=t=>{"operators"in t&&n(1,s=t.operators)},[function(t){const e=t.detail.selected,n=t.detail.text,r=s.includes(n);if(e&&!r)s.push(n);else if(r){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class Rt extends K{constructor(t){super(),J(this,t,At,Qt,o,{operators:1})}}function Wt(e){let n,s,r;return{c(){n=m("button"),n.textContent="🡐",g(n,"class","svelte-1k47ap5")},m(t,o){a(t,n,o),s||(r=$(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,r()}}}function jt(t){const e=C();return[e,()=>e("back")]}class Ft extends K{constructor(t){super(),J(this,t,jt,Wt,o,{})}}function Bt(t){let e,n,s,r,o,i,c,l;function f(e){t[8](e)}let m={};function d(e){t[9](e)}void 0!==t[1]&&(m.numbers=t[1]),e=new Ot({props:m}),N.push((()=>F(e,"numbers",f)));let p={};return void 0!==t[2]&&(p.operators=t[2]),r=new Rt({props:p}),N.push((()=>F(r,"operators",d))),c=new et({props:{text:"Practice"}}),c.$on("click",t[5]),{c(){B(e.$$.fragment),s=h(),B(r.$$.fragment),i=h(),B(c.$$.fragment)},m(t,n){V(e,t,n),a(t,s,n),V(r,t,n),a(t,i,n),V(c,t,n),l=!0},p(t,s){const i={};!n&&2&s&&(n=!0,i.numbers=t[1],z((()=>n=!1))),e.$set(i);const c={};!o&&4&s&&(o=!0,c.operators=t[2],z((()=>o=!1))),r.$set(c)},i(t){l||(W(e.$$.fragment,t),W(r.$$.fragment,t),W(c.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),j(r.$$.fragment,t),j(c.$$.fragment,t),l=!1},d(t){Y(e,t),t&&u(s),Y(r,t),t&&u(i),Y(c,t)}}}function Vt(t){let e,n,s;function r(e){t[7](e)}let o={};return void 0!==t[0]&&(o.game=t[0]),e=new It({props:o}),N.push((()=>F(e,"game",r))),e.$on("difficulty",t[4]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&1&s&&(n=!0,r.game=t[0],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Yt(t){let e,n,s,r,o,i;e=new Ft({}),e.$on("back",t[6]);const c=[Vt,Bt],l=[];function f(t,e){return t[0].options.mode!==U.practice?0:1}return s=f(t),r=l[s]=c[s](t),{c(){B(e.$$.fragment),n=h(),r.c(),o=p()},m(t,r){V(e,t,r),a(t,n,r),l[s].m(t,r),a(t,o,r),i=!0},p(t,[e]){let n=s;s=f(t),s===n?l[s].p(t,e):(A(),j(l[n],1,1,(()=>{l[n]=null})),R(),r=l[s],r?r.p(t,e):(r=l[s]=c[s](t),r.c()),W(r,1),r.m(o.parentNode,o))},i(t){i||(W(e.$$.fragment,t),W(r),i=!0)},o(t){j(e.$$.fragment,t),j(r),i=!1},d(t){Y(e,t),t&&u(n),l[s].d(t),t&&u(o)}}}function Jt(t,e,n){let s,r,{game:o}=e;const i=C();return t.$$set=t=>{"game"in t&&n(0,o=t.game)},[o,s,r,i,function(){i("play")},function(){n(0,o.options.numbers=s,o),n(0,o.options.operators=r,o),n(0,o.options.difficulty=X.medium,o),i("play")},()=>i("back"),function(t){o=t,n(0,o)},function(t){s=t,n(1,s)},function(t){r=t,n(2,r)}]}class Kt extends K{constructor(t){super(),J(this,t,Jt,Yt,o,{game:0})}}class Ut{constructor(t,e){this.game=t,this.options=t.options,this.selectedNumbersCount=this.options.numbers.length,this.selectedOperatorsCount=this.options.operators.length;let n=!0;for(;n;)this.operator=this.getOperator(),this.number1=this.getNumber1(),this.number2=this.getNumber2(),n=null!=e&&this.equals(e),"-"===this.operator&&(n=n||this.number1===this.number2);this.fixNumbers(),this.answer=this.calculate(this.number1,this.number2,this.operator),this.choices=[],this.createChoices(),this.content=`${this.number1} ${this.operator} ${this.number2}`}getNumber1(){return this.options.numbers[this.getRandomInt(0,this.selectedNumbersCount)]}getNumber2(){const t=Math.max(1,this.game.level-3),e=2*(this.game.level+2),n=this.getRangeMultiplier();return this.getRandomInt(t,e)*n}getOperator(){return this.options.operators[this.getRandomInt(0,this.selectedOperatorsCount)]}fixNumbers(){switch(this.operator){case"-":this.number1<this.number2&&this.swapNumbers();break;case"÷":this.swapNumbers(),this.number1=this.number1*this.number2}}swapNumbers(){const t=this.number1;this.number1=this.number2,this.number2=t}calculate(t,e,n){switch(n){case"+":return t+e;case"-":return t-e;case"×":return t*e;case"÷":return t/e}return 0}getRandomInt(t,e){const n=e-t;return Math.floor(Math.random()*n)+t}createChoices(){this.choices.length=0,this.choices.push(this.answer);let t=3;for(;t>0;){let e=this.getNumber1(),n=this.getNumber2(),s=this.getOperator();if("-÷".includes(s)&&e<n){const t=e;e=n,n=t}"÷"===s&&(e*=n);let r=this.calculate(e,n,s);this.choices.includes(r)||(this.choices.push(r),t--)}this.shuffleChoices()}shuffleChoices(){var t=this.getRandomInt(0,this.choices.length);[this.choices[0],this.choices[t]]=[this.choices[t],this.choices[0]]}getRangeMultiplier(){switch(this.options.difficulty){case X.easy:return 1;case X.medium:return 2;case X.hard:return 3;case X.insane:return 6;default:return 1}}equals(t){return!!t&&(this.number1===t.number1&&this.number2===t.number2&&this.operator===t.operator)}}function Xt(e){let n,s;return{c(){n=m("div"),s=m("div"),g(s,"class","remaining svelte-w1zuxh"),w(s,"width",e[0]+"%"),w(s,"background-color","hsl("+(100-e[0])+", 100%, 50%)"),g(n,"class","timer svelte-w1zuxh")},m(t,e){a(t,n,e),l(n,s)},p(t,[e]){1&e&&w(s,"width",t[0]+"%"),1&e&&w(s,"background-color","hsl("+(100-t[0])+", 100%, 50%)")},i:t,o:t,d(t){t&&u(n)}}}function Zt(t,e){var n,s,r=!1,o=e;this.pause=function(){r=!0,window.clearTimeout(n),n=null,o-=Date.now()-s},this.resume=function(){n||(s=Date.now(),n=window.setTimeout(t,o),r=!1)},this.proportionRemaining=function(){return(r?e-o:Date.now()-s)/e},this.resume()}function te(t,e,n){const s=C();let r,{time:o=3e3}=e,i=100;function c(){n(0,i=100),r=new Zt((()=>{s("timeout")}),o)}return c(),function t(e){!function(){if(!r)return;n(0,i=100*r.proportionRemaining())}(),window.requestAnimationFrame(t)}(),t.$$set=t=>{"time"in t&&n(1,o=t.time)},[i,o,c,function(){r&&r.pause()}]}class ee extends K{constructor(t){super(),J(this,t,te,Xt,o,{time:1,reset:2,pause:3})}get reset(){return this.$$.ctx[2]}get pause(){return this.$$.ctx[3]}}function ne(t){let e,n,s,r=t[0].lives+"";return{c(){e=m("span"),n=d("Lives: "),s=d(r)},m(t,r){a(t,e,r),l(e,n),l(e,s)},p(t,e){1&e&&r!==(r=t[0].lives+"")&&v(s,r)},d(t){t&&u(e)}}}function se(e){let n,s,r,o,i,c,f,p,$,w=e[0].level+"",y=e[0].score+"",b=e[1]&&ne(e);return{c(){n=m("div"),s=m("span"),r=d("Level: "),o=d(w),i=h(),c=m("span"),f=d("Score: "),p=d(y),$=h(),b&&b.c(),g(c,"class","score svelte-10h13ed"),g(n,"class","info svelte-10h13ed")},m(t,e){a(t,n,e),l(n,s),l(s,r),l(s,o),l(n,i),l(n,c),l(c,f),l(c,p),l(n,$),b&&b.m(n,null)},p(t,[e]){1&e&&w!==(w=t[0].level+"")&&v(o,w),1&e&&y!==(y=t[0].score+"")&&v(p,y),t[1]?b?b.p(t,e):(b=ne(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&u(n),b&&b.d()}}}function re(t,e,n){let{game:s}=e,{showLives:r=!0}=e;return t.$$set=t=>{"game"in t&&n(0,s=t.game),"showLives"in t&&n(1,r=t.showLives)},[s,r]}class oe extends K{constructor(t){super(),J(this,t,re,se,o,{game:0,showLives:1})}}function ie(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function ce(t){let e,n;return e=new qt({props:{text:t[7].toString(),keyCode:(49+t[9]).toString(),width:"22%",selected:t[1][t[9]],selectedColour:t[2][t[9]]}}),e.$on("select",t[3]),{c(){B(e.$$.fragment)},m(t,s){V(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.text=t[7].toString()),2&n&&(s.selected=t[1][t[9]]),4&n&&(s.selectedColour=t[2][t[9]]),e.$set(s)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function le(t){let e,n,s=t[0].choices,r=[];for(let e=0;e<s.length;e+=1)r[e]=ce(ie(t,s,e));const o=t=>j(r[t],1,1,(()=>{r[t]=null}));return{c(){e=m("div");for(let t=0;t<r.length;t+=1)r[t].c();g(e,"class","choices svelte-1bi2uyh")},m(t,s){a(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(15&n){let i;for(s=t[0].choices,i=0;i<s.length;i+=1){const o=ie(t,s,i);r[i]?(r[i].p(o,n),W(r[i],1)):(r[i]=ce(o),r[i].c(),W(r[i],1),r[i].m(e,null))}for(A(),i=s.length;i<r.length;i+=1)o(i);R()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)W(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)j(r[t]);n=!1},d(t){t&&u(e),f(r,t)}}}let ae="#009933",ue="#0d6fa7";function fe(t,e,n){const s=C();let{currentQuestion:r}=e,o=[!1,!1,!1,!1],i=[ue,ue,ue,ue];function c(){n(1,o),n(2,i)}return t.$$set=t=>{"currentQuestion"in t&&n(0,r=t.currentQuestion)},[r,o,i,function(t){const e=Number(t.detail.text),l=e===r.answer;for(let t=0;t<r.choices.length;t++){var a=r.choices[t];a===e?(n(1,o[t]=!0,o),n(2,i[t]=l?ae:"#993300",i)):a===r.answer?(n(1,o[t]=!0,o),n(2,i[t]=ae,i)):(n(1,o[t]=!1,o),n(2,i[t]=ue,i))}c(),s("answer",{correct:l})},function(){for(let t=0;t<o.length;t++)n(1,o[t]=!1,o),n(2,i[t]=ue,i);c()}]}class me extends K{constructor(t){super(),J(this,t,fe,le,o,{currentQuestion:0,reset:4})}get reset(){return this.$$.ctx[4]}}function de(t){let e,n,s,r,o,i,c,f,p,$,w,y,b,x,k=t[1].content+"";function C(e){t[8](e)}function S(e){t[9](e)}let _={};function M(e){t[10](e)}void 0!==t[0]&&(_.game=t[0]),void 0!==t[5]&&(_.showLives=t[5]),n=new oe({props:_}),N.push((()=>F(n,"game",C))),N.push((()=>F(n,"showLives",S)));let D={};function T(e){t[12](e)}void 0!==t[1]&&(D.currentQuestion=t[1]),p=new me({props:D}),N.push((()=>F(p,"currentQuestion",M))),t[11](p),p.$on("answer",t[6]);let H={};return void 0!==t[4]&&(H.time=t[4]),y=new ee({props:H}),N.push((()=>F(y,"time",T))),t[13](y),y.$on("timeout",t[7]),{c(){e=m("div"),B(n.$$.fragment),o=h(),i=m("div"),c=d(k),f=h(),B(p.$$.fragment),w=h(),B(y.$$.fragment),g(i,"class","question svelte-yjq1v4"),g(e,"class","container svelte-yjq1v4")},m(t,s){a(t,e,s),V(n,e,null),l(e,o),l(e,i),l(i,c),l(e,f),V(p,e,null),l(e,w),V(y,e,null),x=!0},p(t,e){const o={};!s&&1&e&&(s=!0,o.game=t[0],z((()=>s=!1))),!r&&32&e&&(r=!0,o.showLives=t[5],z((()=>r=!1))),n.$set(o),(!x||2&e)&&k!==(k=t[1].content+"")&&v(c,k);const i={};!$&&2&e&&($=!0,i.currentQuestion=t[1],z((()=>$=!1))),p.$set(i);const l={};!b&&16&e&&(b=!0,l.time=t[4],z((()=>b=!1))),y.$set(l)},i(t){x||(W(n.$$.fragment,t),W(p.$$.fragment,t),W(y.$$.fragment,t),x=!0)},o(t){j(n.$$.fragment,t),j(p.$$.fragment,t),j(y.$$.fragment,t),x=!1},d(s){s&&u(e),Y(n),t[11](null),Y(p),t[13](null),Y(y)}}}function he(t){let e,n,s=t[1]&&de(t);return{c(){s&&s.c(),e=p()},m(t,r){s&&s.m(t,r),a(t,e,r),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&W(s,1)):(s=de(t),s.c(),W(s,1),s.m(e.parentNode,e)):s&&(A(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(W(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function pe(t,e,n){let{game:s}=e;const r=C();let o,i,c=null,l=s.defaultGameTime,a=!1;function u(){n(1,c=new Ut(s,c))}return u(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,c,o,i,l,a,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{u(),o.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){r("gameover")},function(t){s=t,n(0,s)},function(t){a=t,n(5,a)},function(t){c=t,n(1,c)},function(t){N[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){l=t,n(4,l)},function(t){N[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class $e extends K{constructor(t){super(),J(this,t,pe,he,o,{game:0})}}const ge=()=>{};function ve(t,e,n=ge){t()?e((function s(r,...o){r?n(r):t.apply(this,o)?e(s):n(null)})):n(null)}let we=0;function ye(){return we++}function be(t,e){return t.scrollWidth&&t.scrollWidth>0?t.scrollWidth-1<=e-1:t.offsetWidth-1<=e-1}function xe(t,e){return t.scrollHeight&&t.scrollHeight>0?t.scrollHeight-1<=e-1:t.offsetHeight-1<=e-1}function ke(){}const Ce=(t,e)=>{let n,{throttle:s=10,autoResize:r=!1}=e,o=null;const i=e=>{let{min:s=1,max:r=100,mode:i="multi",forceSingleModeWidth:c=!0,onReady:l=ke,style:a=((t,e)=>t.style.fontSize=e+"px"),width:u,height:f,parent:m,elementFitsWidth:d=be,elementFitsHeight:h=xe}=e;const p=m,$=t;let g=u||$.scrollWidth||$.offsetWidth,v=f||$.scrollHeight||$.offsetHeight;if(m&&(g=function(t){const e=window.getComputedStyle(t,null);return e?t.clientWidth-parseInt(e.getPropertyValue("padding-left"),10)-parseInt(e.getPropertyValue("padding-right"),10):t.clientWidth}(p),v=function(t){const e=window.getComputedStyle(t,null);return e?t.clientHeight-parseInt(e.getPropertyValue("padding-top"),10)-parseInt(e.getPropertyValue("padding-bottom"),10):t.clientHeight}(p)),v<=0||isNaN(v))return void console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");if(g<=0||isNaN(g))return void console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");const w=ye();n=w;const y=()=>w!==n,b="multi"===i?()=>h($,v):()=>d($,g),x="multi"===i?()=>d($,g):()=>h($,v);let k,C=s,S=r;!function(t,e,n){const s=[];let r=0,o=!0;function i(t){function r(){e&&e(t,s)}o?n.then(r):r()}t.length>0?t[0]((function e(n,o){s.push(o),++r>=t.length||n?i(n):t[r](e)})):i(null),o=!1}([e=>ve((()=>C<=S),(e=>{if(y())return e(!0);k=parseInt((C+S)/2,10),o=k,a(t,o),P().then((()=>y()?e(!0):(b()?C=k+1:S=k-1,e())))}),e),e=>"single"===i&&c||x()?e():(C=s,S=k,ve((()=>C<=S),(e=>{if(y())return e(!0);k=parseInt((C+S)/2,10),o=k,a(t,o),P().then((()=>w!==n?e(!0):(x()?C=k+1:S=k-1,e())))}),e)),e=>{if(k=Math.min(C,S),k=Math.max(k,s),k=Math.min(k,r),k=Math.max(k,0),y())return e(!0);o=k,a(t,o),P().then(e)}],(t=>{t||y()||P().then((()=>l(k)))}))},c=function(t,e){let n,s,r,o,i=0;function c(){o=0,i=+new Date,r=t.apply(n,s),n=null,s=null}return function(){n=this,s=arguments;const t=new Date-i;return o||(t>=e?c():o=setTimeout(c,e-t)),r}}((()=>i(e)),s);return r&&window.addEventListener("resize",c),P().then((()=>i(e))),{destroy:()=>{r&&window.removeEventListener("resize",c),n=ye()},update:t=>{P().then((e=>i(t)))}}};function Se(e){let n,s,o,i,c,f,p,$,w,y,b,x,k,C,S,_,M,D,T,H,P=e[1].content+"";function I(t){e[8](t)}let L={};function q(t){e[10](t)}void 0!==e[0]&&(L.game=e[0]),o=new oe({props:L}),N.push((()=>F(o,"game",I)));let E={};function G(t){e[12](t)}void 0!==e[1]&&(E.currentQuestion=e[1]),x=new me({props:E}),N.push((()=>F(x,"currentQuestion",q))),e[11](x),x.$on("answer",e[6]);let O={};return void 0!==e[5]&&(O.time=e[5]),_=new ee({props:O}),N.push((()=>F(_,"time",G))),e[13](_),_.$on("timeout",e[7]),{c(){n=m("div"),s=m("div"),B(o.$$.fragment),c=h(),f=m("div"),p=m("div"),$=d(P),y=h(),b=m("div"),B(x.$$.fragment),C=h(),S=m("div"),B(_.$$.fragment),g(s,"class","info svelte-ikyb24"),g(f,"class","question svelte-ikyb24"),g(b,"class","options svelte-ikyb24"),g(S,"class","timer svelte-ikyb24"),g(n,"class","container svelte-ikyb24")},m(i,u){var m;a(i,n,u),l(n,s),V(o,s,null),l(n,c),l(n,f),l(f,p),l(p,$),e[9](f),l(n,y),l(n,b),V(x,b,null),l(n,C),l(n,S),V(_,S,null),D=!0,T||(m=w=Ce.call(null,p,{parent:e[2],mode:"single",min:12,max:300,autoResize:!0,forceSingleModeWidth:!1}),H=m&&r(m.destroy)?m.destroy:t,T=!0)},p(t,e){const n={};!i&&1&e&&(i=!0,n.game=t[0],z((()=>i=!1))),o.$set(n),(!D||2&e)&&P!==(P=t[1].content+"")&&v($,P),w&&r(w.update)&&4&e&&w.update.call(null,{parent:t[2],mode:"single",min:12,max:300,autoResize:!0,forceSingleModeWidth:!1});const s={};!k&&2&e&&(k=!0,s.currentQuestion=t[1],z((()=>k=!1))),x.$set(s);const c={};!M&&32&e&&(M=!0,c.time=t[5],z((()=>M=!1))),_.$set(c)},i(t){D||(W(o.$$.fragment,t),W(x.$$.fragment,t),W(_.$$.fragment,t),D=!0)},o(t){j(o.$$.fragment,t),j(x.$$.fragment,t),j(_.$$.fragment,t),D=!1},d(t){t&&u(n),Y(o),e[9](null),e[11](null),Y(x),e[13](null),Y(_),T=!1,H()}}}function Ne(t){let e,n,s=t[1]&&Se(t);return{c(){s&&s.c(),e=p()},m(t,r){s&&s.m(t,r),a(t,e,r),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&W(s,1)):(s=Se(t),s.c(),W(s,1),s.m(e.parentNode,e)):s&&(A(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(W(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function _e(t,e,n){let{game:s}=e;const r=C();let o,i,c,l=null,a=s.timePerQuestion,u=s.levelCounter;function f(){c&&c.pause(),s.lives<=0?r("gameover"):(n(1,l=new Ut(s,l)),c&&c.reset())}return f(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,l,o,i,c,a,function(t){var e=t.detail.correct;c.pause(),n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),u+=e?-1:0,u<=0&&function(){n(0,s.level++,s),u=s.levelCounter,n(5,a*=s.levelTimeDelta),s.options.numbers.shift();const t=Math.max(...s.options.numbers);if(s.options.numbers.push(t+1),s.options.operators.length<4&&s.level%2==0){const t=["+","-","×","÷"];for(let e=0;e<t.length;e++)if(s.options.operators.indexOf(t[e])<0){s.options.operators.push(t[e]);break}}}(),setTimeout((()=>{f(),i.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){c.pause(),n(0,s.lives-=1,s),f()},function(t){s=t,n(0,s)},function(t){N[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){l=t,n(1,l)},function(t){N[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},function(t){a=t,n(5,a)},function(t){N[t?"unshift":"push"]((()=>{c=t,n(4,c)}))}]}class Me extends K{constructor(t){super(),J(this,t,_e,Ne,o,{game:0})}}function De(t){let e,n,s,r,o,i,c,f,p,$,w,y,b,x,k=t[1].content+"";function C(e){t[8](e)}function S(e){t[9](e)}let _={};function M(e){t[10](e)}void 0!==t[0]&&(_.game=t[0]),void 0!==t[5]&&(_.showLives=t[5]),n=new oe({props:_}),N.push((()=>F(n,"game",C))),N.push((()=>F(n,"showLives",S)));let D={};function T(e){t[12](e)}void 0!==t[1]&&(D.currentQuestion=t[1]),p=new me({props:D}),N.push((()=>F(p,"currentQuestion",M))),t[11](p),p.$on("answer",t[6]);let H={};return void 0!==t[4]&&(H.time=t[4]),y=new ee({props:H}),N.push((()=>F(y,"time",T))),t[13](y),y.$on("timeout",t[7]),{c(){e=m("div"),B(n.$$.fragment),o=h(),i=m("div"),c=d(k),f=h(),B(p.$$.fragment),w=h(),B(y.$$.fragment),g(i,"class","question svelte-yricfz"),g(e,"class","container svelte-yricfz")},m(t,s){a(t,e,s),V(n,e,null),l(e,o),l(e,i),l(i,c),l(e,f),V(p,e,null),l(e,w),V(y,e,null),x=!0},p(t,e){const o={};!s&&1&e&&(s=!0,o.game=t[0],z((()=>s=!1))),!r&&32&e&&(r=!0,o.showLives=t[5],z((()=>r=!1))),n.$set(o),(!x||2&e)&&k!==(k=t[1].content+"")&&v(c,k);const i={};!$&&2&e&&($=!0,i.currentQuestion=t[1],z((()=>$=!1))),p.$set(i);const l={};!b&&16&e&&(b=!0,l.time=t[4],z((()=>b=!1))),y.$set(l)},i(t){x||(W(n.$$.fragment,t),W(p.$$.fragment,t),W(y.$$.fragment,t),x=!0)},o(t){j(n.$$.fragment,t),j(p.$$.fragment,t),j(y.$$.fragment,t),x=!1},d(s){s&&u(e),Y(n),t[11](null),Y(p),t[13](null),Y(y)}}}function Te(t){let e,n,s=t[1]&&De(t);return{c(){s&&s.c(),e=p()},m(t,r){s&&s.m(t,r),a(t,e,r),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&W(s,1)):(s=De(t),s.c(),W(s,1),s.m(e.parentNode,e)):s&&(A(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(W(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function He(t,e,n){let{game:s}=e;const r=C();let o,i,c=null,l=s.defaultGameTime,a=!1;function u(){n(1,c=new Ut(s,c))}return u(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,c,o,i,l,a,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{u(),o.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){r("gameover")},function(t){s=t,n(0,s)},function(t){a=t,n(5,a)},function(t){c=t,n(1,c)},function(t){N[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(t){l=t,n(4,l)},function(t){N[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class Pe extends K{constructor(t){super(),J(this,t,He,Te,o,{game:0})}}function Ie(t){let e,n,s;function r(e){t[4](e)}let o={};return void 0!==t[0]&&(o.game=t[0]),e=new $e({props:o}),N.push((()=>F(e,"game",r))),e.$on("gameover",t[1]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&1&s&&(n=!0,r.game=t[0],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function ze(t){let e,n,s;function r(e){t[3](e)}let o={};return void 0!==t[0]&&(o.game=t[0]),e=new Pe({props:o}),N.push((()=>F(e,"game",r))),e.$on("gameover",t[1]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&1&s&&(n=!0,r.game=t[0],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Le(t){let e,n,s;function r(e){t[2](e)}let o={};return void 0!==t[0]&&(o.game=t[0]),e=new Me({props:o}),N.push((()=>F(e,"game",r))),e.$on("gameover",t[1]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&1&s&&(n=!0,r.game=t[0],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function qe(t){let e,n,s,r;const o=[Le,ze,Ie],i=[];function c(t,e){return t[0].options.mode===U.standard?0:t[0].options.mode===U.timed?1:2}return e=c(t),n=i[e]=o[e](t),{c(){n.c(),s=p()},m(t,n){i[e].m(t,n),a(t,s,n),r=!0},p(t,[r]){let l=e;e=c(t),e===l?i[e].p(t,r):(A(),j(i[l],1,1,(()=>{i[l]=null})),R(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),W(n,1),n.m(s.parentNode,s))},i(t){r||(W(n),r=!0)},o(t){j(n),r=!1},d(t){i[e].d(t),t&&u(s)}}}function Ee(t,e,n){let{game:s}=e;const r=C();return t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,function(){r("gameover")},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)}]}class Ge extends K{constructor(t){super(),J(this,t,Ee,qe,o,{game:0})}}function Oe(t){let e;return{c(){e=m("h3"),e.textContent="New High Score!"},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function Qe(e){let n,s,r,o,i,c,f,$=e[0].score+"",g=e[0].score>e[1]&&Oe();return{c(){n=m("h1"),n.textContent="Game Over",s=h(),r=m("h2"),o=d("Score: "),i=d($),c=h(),g&&g.c(),f=p()},m(t,e){a(t,n,e),a(t,s,e),a(t,r,e),l(r,o),l(r,i),a(t,c,e),g&&g.m(t,e),a(t,f,e)},p(t,[e]){1&e&&$!==($=t[0].score+"")&&v(i,$),t[0].score>t[1]?g||(g=Oe(),g.c(),g.m(f.parentNode,f)):g&&(g.d(1),g=null)},i:t,o:t,d(t){t&&u(n),t&&u(s),t&&u(r),t&&u(c),g&&g.d(t),t&&u(f)}}}function Ae(t,e,n){let s;var r;i(t,dt,(t=>n(3,s=t)));let{game:o}=e;var c,l;s||(c=dt,s=new mt,l=s,c.set(l));var a=null==s?void 0:s.stats.find((t=>t.mode===o.options.mode&&t.difficulty===o.options.difficulty)),u=null!==(r=null==a?void 0:a.highScore)&&void 0!==r?r:0;return pt.update(s,o),dt.set(s),t.$$set=t=>{"game"in t&&n(0,o=t.game)},[o,u]}class Re extends K{constructor(t){super(),J(this,t,Ae,Qe,o,{game:0})}}var We;!function(t){t[t.home=0]="home",t[t.help=1]="help",t[t.stats=2]="stats",t[t.options=3]="options",t[t.play=4]="play",t[t.gameover=5]="gameover"}(We||(We={}));class je{constructor(){this.numbers=[],this.operators=[]}}class Fe{constructor(){this.reset()}reset(){this.options=new je,this.lives=3,this.level=1,this.score=0,this.pauseCorrectAnswer=200,this.pauseIncorrectAnswer=500,this.defaultGameTime=3e4,this.timePerQuestion=3e3,this.levelCounter=10,this.levelTimeDelta=.95}}function Be(t){let e,n,s,r,o,i,c;function l(e){t[13](e)}let f={};return void 0!==t[1]&&(f.game=t[1]),e=new Re({props:f}),N.push((()=>F(e,"game",l))),{c(){B(e.$$.fragment),s=h(),r=m("button"),r.textContent="Home"},m(n,l){V(e,n,l),a(n,s,l),a(n,r,l),o=!0,i||(c=$(r,"click",t[14]),i=!0)},p(t,s){const r={};!n&&2&s&&(n=!0,r.game=t[1],z((()=>n=!1))),e.$set(r)},i(t){o||(W(e.$$.fragment,t),o=!0)},o(t){j(e.$$.fragment,t),o=!1},d(t){Y(e,t),t&&u(s),t&&u(r),i=!1,c()}}}function Ve(t){let e,n,s;function r(e){t[12](e)}let o={};return void 0!==t[1]&&(o.game=t[1]),e=new Ge({props:o}),N.push((()=>F(e,"game",r))),e.$on("gameover",t[4]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&2&s&&(n=!0,r.game=t[1],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Ye(t){let e,n,s;function r(e){t[9](e)}let o={};return void 0!==t[1]&&(o.game=t[1]),e=new Kt({props:o}),N.push((()=>F(e,"game",r))),e.$on("back",t[10]),e.$on("play",t[11]),{c(){B(e.$$.fragment)},m(t,n){V(e,t,n),s=!0},p(t,s){const r={};!n&&2&s&&(n=!0,r.game=t[1],z((()=>n=!1))),e.$set(r)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function Je(e){let n,s;return n=new Tt({}),n.$on("close",e[8]),{c(){B(n.$$.fragment)},m(t,e){V(n,t,e),s=!0},p:t,i(t){s||(W(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){Y(n,t)}}}function Ke(e){let n,s;return n=new ut({}),n.$on("close",e[7]),{c(){B(n.$$.fragment)},m(t,e){V(n,t,e),s=!0},p:t,i(t){s||(W(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){Y(n,t)}}}function Ue(e){let n,s;return n=new rt({}),n.$on("help",e[5]),n.$on("stats",e[6]),n.$on("options",e[3]),{c(){B(n.$$.fragment)},m(t,e){V(n,t,e),s=!0},p:t,i(t){s||(W(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){Y(n,t)}}}function Xe(t){let e,n,s,r;const o=[Ue,Ke,Je,Ye,Ve,Be],i=[];function c(t,e){return t[0]===We.home?0:t[0]===We.help?1:t[0]===We.stats?2:t[0]===We.options?3:t[0]===We.play?4:t[0]===We.gameover?5:-1}return~(n=c(t))&&(s=i[n]=o[n](t)),{c(){e=m("main"),s&&s.c(),g(e,"class","svelte-zgj3re")},m(t,s){a(t,e,s),~n&&i[n].m(e,null),r=!0},p(t,[r]){let l=n;n=c(t),n===l?~n&&i[n].p(t,r):(s&&(A(),j(i[l],1,1,(()=>{i[l]=null})),R()),~n?(s=i[n],s?s.p(t,r):(s=i[n]=o[n](t),s.c()),W(s,1),s.m(e,null)):s=null)},i(t){r||(W(s),r=!0)},o(t){j(s),r=!1},d(t){t&&u(e),~n&&i[n].d()}}}function Ze(t,e,n){let s=We.home,r=new Fe;function o(t){n(0,s=t)}return[s,r,o,function(t){r.reset(),n(1,r.options.mode=t.detail.gameType,r),o(We.options)},function(){o(We.gameover)},()=>o(We.help),()=>o(We.stats),()=>o(We.home),()=>o(We.home),function(t){r=t,n(1,r)},()=>o(We.home),()=>o(We.play),function(t){r=t,n(1,r)},function(t){r=t,n(1,r)},()=>o(We.home)]}return new class extends K{constructor(t){super(),J(this,t,Ze,Xe,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
