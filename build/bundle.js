var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function i(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function d(){return $(" ")}function p(){return $("")}function g(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function w(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function b(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let x;function k(t){x=t}function C(){const t=function(){if(!x)throw new Error("Function called outside component initialization");return x}();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}const S=[],_=[],N=[],D=[],T=Promise.resolve();let M=!1;function O(t){N.push(t)}function P(t){D.push(t)}const q=new Set;let E=0;function G(){if(0!==E)return;const t=x;do{try{for(;E<S.length;){const t=S[E];E++,k(t),L(t.$$)}}catch(t){throw S.length=0,E=0,t}for(k(null),S.length=0,E=0;_.length;)_.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];q.has(e)||(q.add(e),e())}N.length=0}while(S.length);for(;D.length;)D.pop()();M=!1,q.clear(),k(t)}function L(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const Q=new Set;let A;function I(){A={r:0,c:[],p:A}}function R(){A.r||s(A.c),A=A.p}function H(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function j(t,e,n,s){if(t&&t.o){if(Q.has(t))return;Q.add(t),A.c.push((()=>{Q.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}function F(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function z(t){t&&t.c()}function Y(t,n,r,c){const{fragment:i,after_update:l}=t.$$;i&&i.m(n,r),c||O((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):s(n),t.$$.on_mount=[]})),l.forEach(O)}function B(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(S.push(t),M||(M=!0,T.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,o,r,c,i,l,a,f=[-1]){const m=x;k(e);const $=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||m.$$.root};a&&a($.root);let d=!1;if($.ctx=r?r(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return $.ctx&&i($.ctx[t],$.ctx[t]=o)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](o),d&&J(e,t)),n})):[],$.update(),d=!0,s($.before_update),$.fragment=!!c&&c($.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);$.fragment&&$.fragment.l(t),t.forEach(u)}else $.fragment&&$.fragment.c();o.intro&&H(e.$$.fragment),Y(e,o.target,o.anchor,o.customElement),G()}k(m)}class U{$destroy(){B(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var V,W;function X(e){let n,s,o,r;return{c(){n=m("button"),s=$(e[0]),h(n,"class","svelte-19ga9zu")},m(t,c){a(t,n,c),l(n,s),o||(r=g(n,"click",e[1]),o=!0)},p(t,[e]){1&e&&v(s,t[0])},i:t,o:t,d(t){t&&u(n),o=!1,r()}}}function Z(t,e,n){let{text:s}=e;const o=C();return t.$$set=t=>{"text"in t&&n(0,s=t.text)},[s,function(){o("click",{text:s})}]}!function(t){t[t.standard=0]="standard",t[t.timed=1]="timed",t[t.practice=2]="practice"}(V||(V={}));class tt extends U{constructor(t){super(),K(this,t,Z,X,r,{text:0})}}function et(e){let n,o,r,c,i,f,$,p,v,y,w,b,x,k,C,S,_,N,D;return y=new tt({props:{text:"Play"}}),y.$on("click",e[3]),x=new tt({props:{text:"Timed"}}),x.$on("click",e[4]),S=new tt({props:{text:"Practice"}}),S.$on("click",e[5]),{c(){n=m("div"),o=m("button"),o.textContent="🛈",r=d(),c=m("button"),c.textContent="📈",i=d(),f=m("h1"),f.textContent="numberSTAR",$=d(),p=m("ul"),v=m("li"),z(y.$$.fragment),w=d(),b=m("li"),z(x.$$.fragment),k=d(),C=m("li"),z(S.$$.fragment),h(n,"class","utility"),h(v,"class","svelte-6llhpa"),h(b,"class","svelte-6llhpa"),h(C,"class","svelte-6llhpa"),h(p,"class","svelte-6llhpa")},m(t,s){a(t,n,s),l(n,o),l(n,r),l(n,c),a(t,i,s),a(t,f,s),a(t,$,s),a(t,p,s),l(p,v),Y(y,v,null),l(p,w),l(p,b),Y(x,b,null),l(p,k),l(p,C),Y(S,C,null),_=!0,N||(D=[g(o,"click",e[1]),g(c,"click",e[2])],N=!0)},p:t,i(t){_||(H(y.$$.fragment,t),H(x.$$.fragment,t),H(S.$$.fragment,t),_=!0)},o(t){j(y.$$.fragment,t),j(x.$$.fragment,t),j(S.$$.fragment,t),_=!1},d(t){t&&u(n),t&&u(i),t&&u(f),t&&u($),t&&u(p),B(y),B(x),B(S),N=!1,s(D)}}}function nt(t){const e=C();return[e,()=>e("help"),()=>e("stats"),()=>e("options",{gameType:V.standard}),()=>e("options",{gameType:V.timed}),()=>e("options",{gameType:V.practice})]}class st extends U{constructor(t){super(),K(this,t,nt,et,r,{})}}function ot(e){let n,s,o;return{c(){n=m("button"),n.textContent="×",h(n,"class","svelte-1pkrx8")},m(t,r){a(t,n,r),s||(o=g(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,o()}}}function rt(t){const e=C();return[e,()=>e("close")]}class ct extends U{constructor(t){super(),K(this,t,rt,ot,r,{})}}function it(e){let n,s,o,r,c,i,l,f,$,p,g,h;return n=new ct({}),n.$on("close",e[1]),{c(){z(n.$$.fragment),s=d(),o=m("h1"),o.textContent="How to play",r=d(),c=m("p"),c.textContent="Pick from one of the three available game modes: Standard, Timed and Practice.",i=d(),l=m("p"),l.textContent="Each mode presents a series of random questions and four possible answers. Select the correct answer before the time\r\n    runs out!",f=d(),$=m("p"),$.textContent="Both Standard and Timed allow you to select a difficulty level. Practice mode lets you choose the numbers and\r\n    operators you want to revise. This lets you practice your 7 times tables, for example.",p=d(),g=m("p"),g.textContent="Standard mode keeps going until you run out of lives. In timed and practice mode, answer as many questions as you\r\n    can within a minute."},m(t,e){Y(n,t,e),a(t,s,e),a(t,o,e),a(t,r,e),a(t,c,e),a(t,i,e),a(t,l,e),a(t,f,e),a(t,$,e),a(t,p,e),a(t,g,e),h=!0},p:t,i(t){h||(H(n.$$.fragment,t),h=!0)},o(t){j(n.$$.fragment,t),h=!1},d(t){B(n,t),t&&u(s),t&&u(o),t&&u(r),t&&u(c),t&&u(i),t&&u(l),t&&u(f),t&&u($),t&&u(p),t&&u(g)}}}function lt(t){const e=C();return[e,()=>e("close")]}class at extends U{constructor(t){super(),K(this,t,lt,it,r,{})}}!function(t){t[t.easy=0]="easy",t[t.medium=1]="medium",t[t.hard=2]="hard",t[t.insane=3]="insane"}(W||(W={}));const ut=[];class ft{constructor(){this.gamesPlayed=0,this.maxStreak=0,this.currentStreak=0,this.stats=[]}}const mt=function(e,n=t){let s;const o=new Set;function c(t){if(r(e,t)&&(e=t,s)){const t=!ut.length;for(const t of o)t[1](),ut.push(t,e);if(t){for(let t=0;t<ut.length;t+=2)ut[t][0](ut[t+1]);ut.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,i=t){const l=[r,i];return o.add(l),1===o.size&&(s=n(c)||t),r(e),()=>{o.delete(l),0===o.size&&(s(),s=null)}}}}(JSON.parse(localStorage.getItem("numberStar_History")));mt.subscribe((t=>localStorage.numberStar_History=JSON.stringify(t)));class $t{constructor(){this.highScore=0,this.last10Games=[]}}class dt{static update(t,e){dt.setStreak(t),t.gamesPlayed++;const n=dt.getHistoryGame(t,e);10==n.last10Games.length&&n.last10Games.shift(),n.last10Games.push(e.score),n.highScore=Math.max(n.highScore,e.score)}static getHistoryGame(t,e){let n=t.stats.find((t=>t.difficulty===e.options.difficulty&&t.mode===e.options.mode));return n||(n=new $t,n.difficulty=e.options.difficulty,n.mode=e.options.mode,t.stats.push(n)),n}static setStreak(t){t.currentDate?this.isYesterday(new Date(t.currentDate))?(t.currentDate=new Date,t.currentStreak++):this.isToday(new Date(t.currentDate))||dt.resetStreak(t):dt.resetStreak(t),dt.setMaxStreak(t)}static isToday(t){const e=new Date;return this.doDatesMatch(t,e)}static isYesterday(t){let e=new Date;return e.setDate(e.getDate()-1),this.doDatesMatch(t,e)}static doDatesMatch(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}static setMaxStreak(t){t.currentStreak>t.maxStreak&&(t.maxStreak=t.currentStreak)}static resetStreak(t){t.currentDate=new Date,t.currentStreak=1}}function pt(t,e,n){const s=t.slice();return s[19]=e[n],s}function gt(t,e,n){const s=t.slice();return s[19]=e[n],s}function ht(t,e,n){const s=t.slice();return s[24]=e[n],s[26]=n,s}function vt(t,e,n){const s=t.slice();return s[24]=e[n],s[26]=n,s}function yt(e){let n,s,o=e[24]+"";return{c(){n=m("option"),s=$(o),n.__value=e[26],n.value=n.__value},m(t,e){a(t,n,e),l(n,s)},p:t,d(t){t&&u(n)}}}function wt(t){let e,n,o,r=t[9](),c=[];for(let e=0;e<r.length;e+=1)c[e]=bt(ht(t,r,e));return{c(){e=m("select");for(let t=0;t<c.length;t+=1)c[t].c();h(e,"class","svelte-y9df5l"),void 0===t[1]&&O((()=>t[16].call(e)))},m(s,r){a(s,e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);w(e,t[1]),n||(o=[g(e,"change",t[16]),g(e,"change",t[11])],n=!0)},p(t,n){if(512&n){let s;for(r=t[9](),s=0;s<r.length;s+=1){const o=ht(t,r,s);c[s]?c[s].p(o,n):(c[s]=bt(o),c[s].c(),c[s].m(e,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=r.length}2&n&&w(e,t[1])},d(t){t&&u(e),f(c,t),n=!1,s(o)}}}function bt(e){let n,s,o=e[24]+"";return{c(){n=m("option"),s=$(o),n.__value=e[26],n.value=n.__value},m(t,e){a(t,n,e),l(n,s)},p:t,d(t){t&&u(n)}}}function xt(e){let n;return{c(){n=m("span"),n.textContent="No statistics for this game type.",h(n,"class","text svelte-y9df5l")},m(t,e){a(t,n,e)},p:t,d(t){t&&u(n)}}}function kt(t){let e,n,s,o,r=t[3].highScore+"";return{c(){e=m("span"),n=$(r),s=d(),o=m("span"),o.textContent="Highest Score",h(e,"class","score svelte-y9df5l"),h(o,"class","text svelte-y9df5l")},m(t,r){a(t,e,r),l(e,n),a(t,s,r),a(t,o,r)},p(t,e){8&e&&r!==(r=t[3].highScore+"")&&v(n,r)},d(t){t&&u(e),t&&u(s),t&&u(o)}}}function Ct(t){let e,n,s,o,r,c=t[3].last10Games,i=[];for(let e=0;e<c.length;e+=1)i[e]=St(gt(t,c,e));let l=t[3].last10Games,$=[];for(let e=0;e<l.length;e+=1)$[e]=_t(pt(t,l,e));return{c(){e=m("h2"),e.textContent="Last 10 Games",n=d(),s=m("div");for(let t=0;t<i.length;t+=1)i[t].c();o=d(),r=m("div");for(let t=0;t<$.length;t+=1)$[t].c();h(e,"class","svelte-y9df5l"),h(s,"class","graph svelte-y9df5l"),h(r,"class","legend svelte-y9df5l")},m(t,c){a(t,e,c),a(t,n,c),a(t,s,c);for(let t=0;t<i.length;t+=1)i[t].m(s,null);a(t,o,c),a(t,r,c);for(let t=0;t<$.length;t+=1)$[t].m(r,null)},p(t,e){if(4120&e){let n;for(c=t[3].last10Games,n=0;n<c.length;n+=1){const o=gt(t,c,n);i[n]?i[n].p(o,e):(i[n]=St(o),i[n].c(),i[n].m(s,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}if(8200&e){let n;for(l=t[3].last10Games,n=0;n<l.length;n+=1){const s=pt(t,l,n);$[n]?$[n].p(s,e):($[n]=_t(s),$[n].c(),$[n].m(r,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=l.length}},d(t){t&&u(e),t&&u(n),t&&u(s),f(i,t),t&&u(o),t&&u(r),f($,t)}}}function St(t){let e,n;return{c(){e=m("div"),h(e,"class",n=i(t[12](t[19]))+" svelte-y9df5l"),y(e,"height",100*t[19]*t[4]+"%")},m(t,n){a(t,e,n)},p(t,s){8&s&&n!==(n=i(t[12](t[19]))+" svelte-y9df5l")&&h(e,"class",n),24&s&&y(e,"height",100*t[19]*t[4]+"%")},d(t){t&&u(e)}}}function _t(t){let e,n,s=t[13](t[19])+"";return{c(){e=m("div"),n=$(s),h(e,"class","label svelte-y9df5l")},m(t,s){a(t,e,s),l(e,n)},p(t,e){8&e&&s!==(s=t[13](t[19])+"")&&v(n,s)},d(t){t&&u(e)}}}function Nt(t){let e,n,o,r,c,i,p,y,b,x,k,C,S,_,N,D,T,M,P,q,E,G,L,Q,A,I,R,F,J,K,U,V=(t[5]?.gamesPlayed??0)+"",W=(t[5]?.maxStreak??0)+"",X=t[7](t[5])+"";e=new ct({}),e.$on("close",t[14]);let Z=t[8](),tt=[];for(let e=0;e<Z.length;e+=1)tt[e]=yt(vt(t,Z,e));let et=t[2]&&wt(t);function nt(t,e){return t[3]?kt:xt}let st=nt(t),ot=st(t),rt=t[3]&&Ct(t);return{c(){z(e.$$.fragment),n=d(),o=m("div"),r=m("div"),c=m("div"),i=$(V),p=d(),y=m("div"),y.textContent="Played",b=d(),x=m("div"),k=m("div"),C=$(W),S=d(),_=m("div"),_.textContent="Max Streak",N=d(),D=m("div"),T=m("div"),M=$(X),P=d(),q=m("div"),q.textContent="Current Streak",E=d(),G=m("div"),L=m("select");for(let t=0;t<tt.length;t+=1)tt[t].c();Q=d(),et&&et.c(),A=d(),I=m("div"),ot.c(),R=d(),F=m("div"),rt&&rt.c(),h(c,"class","value svelte-y9df5l"),h(y,"class","text svelte-y9df5l"),h(r,"class","stat svelte-y9df5l"),h(k,"class","value svelte-y9df5l"),h(_,"class","text svelte-y9df5l"),h(x,"class","stat svelte-y9df5l"),h(T,"class","value svelte-y9df5l"),h(q,"class","text svelte-y9df5l"),h(D,"class","stat svelte-y9df5l"),h(o,"class","mainStats svelte-y9df5l"),h(L,"class","svelte-y9df5l"),void 0===t[0]&&O((()=>t[15].call(L))),h(G,"class","chooser svelte-y9df5l"),h(I,"class","highscore svelte-y9df5l"),h(F,"class","last10games svelte-y9df5l")},m(s,u){Y(e,s,u),a(s,n,u),a(s,o,u),l(o,r),l(r,c),l(c,i),l(r,p),l(r,y),l(o,b),l(o,x),l(x,k),l(k,C),l(x,S),l(x,_),l(o,N),l(o,D),l(D,T),l(T,M),l(D,P),l(D,q),a(s,E,u),a(s,G,u),l(G,L);for(let t=0;t<tt.length;t+=1)tt[t].m(L,null);w(L,t[0]),l(G,Q),et&&et.m(G,null),a(s,A,u),a(s,I,u),ot.m(I,null),a(s,R,u),a(s,F,u),rt&&rt.m(F,null),J=!0,K||(U=[g(L,"change",t[15]),g(L,"change",t[10])],K=!0)},p(t,[e]){if((!J||32&e)&&V!==(V=(t[5]?.gamesPlayed??0)+"")&&v(i,V),(!J||32&e)&&W!==(W=(t[5]?.maxStreak??0)+"")&&v(C,W),(!J||32&e)&&X!==(X=t[7](t[5])+"")&&v(M,X),256&e){let n;for(Z=t[8](),n=0;n<Z.length;n+=1){const s=vt(t,Z,n);tt[n]?tt[n].p(s,e):(tt[n]=yt(s),tt[n].c(),tt[n].m(L,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Z.length}1&e&&w(L,t[0]),t[2]?et?et.p(t,e):(et=wt(t),et.c(),et.m(G,null)):et&&(et.d(1),et=null),st===(st=nt(t))&&ot?ot.p(t,e):(ot.d(1),ot=st(t),ot&&(ot.c(),ot.m(I,null))),t[3]?rt?rt.p(t,e):(rt=Ct(t),rt.c(),rt.m(F,null)):rt&&(rt.d(1),rt=null)},i(t){J||(H(e.$$.fragment,t),J=!0)},o(t){j(e.$$.fragment,t),J=!1},d(t){B(e,t),t&&u(n),t&&u(o),t&&u(E),t&&u(G),f(tt,t),et&&et.d(),t&&u(A),t&&u(I),ot.d(),t&&u(R),t&&u(F),rt&&rt.d(),K=!1,s(U)}}}function Dt(t,e,n){let s;c(t,mt,(t=>n(5,s=t)));const o=C();let r,i,l,a=V.standard,u=W.medium,f=!0;function m(){switch(a){case V.timed:n(2,f=!0);break;case V.practice:n(2,f=!1);break;default:n(2,f=!0)}$()}function $(){n(3,r=null==s?void 0:s.stats.find((t=>t.mode===a&&(a===V.practice||t.difficulty===u)))),l=r?Math.max(...r.last10Games):0,n(4,i=1/l)}m();return[a,u,f,r,i,s,o,function(){return s?(dt.setStreak(s),s.currentStreak):0},function(){return Object.keys(V).filter((t=>!isNaN(Number(V[t]))))},function(){return Object.keys(W).filter((t=>!isNaN(Number(W[t]))))},m,$,function(t){return t===l?"bar selected":"bar"},function(t){return t===l?t.toString():""},()=>o("close"),function(){a=b(this),n(0,a)},function(){u=b(this),n(1,u)}]}class Tt extends U{constructor(t){super(),K(this,t,Dt,Nt,r,{})}}function Mt(e){let n,s,o,r,c,i,f,$,p,g,v,y,w,b,x;return c=new tt({props:{text:"Easy"}}),c.$on("click",e[0]),$=new tt({props:{text:"Medium"}}),$.$on("click",e[0]),v=new tt({props:{text:"Hard"}}),v.$on("click",e[0]),b=new tt({props:{text:"Insane"}}),b.$on("click",e[0]),{c(){n=m("h1"),n.textContent="Select Difficulty",s=d(),o=m("ul"),r=m("li"),z(c.$$.fragment),i=d(),f=m("li"),z($.$$.fragment),p=d(),g=m("li"),z(v.$$.fragment),y=d(),w=m("li"),z(b.$$.fragment),h(n,"class","svelte-1qvfcl"),h(r,"class","svelte-1qvfcl"),h(f,"class","svelte-1qvfcl"),h(g,"class","svelte-1qvfcl"),h(w,"class","svelte-1qvfcl"),h(o,"class","svelte-1qvfcl")},m(t,e){a(t,n,e),a(t,s,e),a(t,o,e),l(o,r),Y(c,r,null),l(o,i),l(o,f),Y($,f,null),l(o,p),l(o,g),Y(v,g,null),l(o,y),l(o,w),Y(b,w,null),x=!0},p:t,i(t){x||(H(c.$$.fragment,t),H($.$$.fragment,t),H(v.$$.fragment,t),H(b.$$.fragment,t),x=!0)},o(t){j(c.$$.fragment,t),j($.$$.fragment,t),j(v.$$.fragment,t),j(b.$$.fragment,t),x=!1},d(t){t&&u(n),t&&u(s),t&&u(o),B(c),B($),B(v),B(b)}}}function Ot(t,e,n){const s=C();let{game:o}=e;return t.$$set=t=>{"game"in t&&n(1,o=t.game)},[function(t){switch(t.detail.text){case"Easy":n(1,o.options.difficulty=W.easy,o),n(1,o.options.numbers=[1,2,3],o),n(1,o.options.operators=["+"],o);break;case"Medium":n(1,o.options.difficulty=W.medium,o),n(1,o.options.numbers=[1,2,3,4,5,6,7],o),n(1,o.options.operators=["+","-"],o);break;case"Hard":n(1,o.options.difficulty=W.hard,o),n(1,o.options.numbers=[1,2,3,4,5,6,7,8,9,10,11,12],o),n(1,o.options.operators=["+","-","×"],o);break;case"Insane":n(1,o.options.difficulty=W.insane,o),n(1,o.options.numbers=[3,4,5,6,7,8,9,11,12,13,14,15],o),n(1,o.options.operators=["+","-","×","÷"],o);break;default:n(1,o.options.difficulty=W.medium,o)}s("difficulty")},o]}class Pt extends U{constructor(t){super(),K(this,t,Ot,Mt,r,{game:1})}}function qt(e){let n,o,r,c,i,f;return{c(){n=m("div"),o=m("span"),r=$(e[2]),h(o,"class","svelte-ktpdjl"),h(n,"style",c="width: "+e[1]+"; "+(e[0]?"background: "+e[3]+"; ":"")),h(n,"class","svelte-ktpdjl")},m(t,s){a(t,n,s),l(n,o),l(o,r),i||(f=[g(n,"click",e[5]),g(n,"keyup",e[4])],i=!0)},p(t,[e]){4&e&&v(r,t[2]),11&e&&c!==(c="width: "+t[1]+"; "+(t[0]?"background: "+t[3]+"; ":""))&&h(n,"style",c)},i:t,o:t,d(t){t&&u(n),i=!1,s(f)}}}function Et(t,e,n){let{width:s="30%"}=e,{selected:o=!1}=e,{text:r=""}=e,{keyCode:c="0"}=e,{selectedColour:i="#71C4F4"}=e;const l=C();function a(){n(0,o=!o),l("select",{text:r,selected:o})}return t.$$set=t=>{"width"in t&&n(1,s=t.width),"selected"in t&&n(0,o=t.selected),"text"in t&&n(2,r=t.text),"keyCode"in t&&n(6,c=t.keyCode),"selectedColour"in t&&n(3,i=t.selectedColour)},[o,s,r,i,function(t){console.log("Key up"),console.log(t.keyCode),t.keyCode==c&&a()},a,c]}class Gt extends U{constructor(t){super(),K(this,t,Et,qt,r,{width:1,selected:0,text:2,keyCode:6,selectedColour:3})}}function Lt(e){let n,s,o,r,c,i,f,$,p,g,v,y,w,b,x,k,C,S,_,N,D,T,M,O,P;return s=new Gt({props:{text:"1",keyCode:"49"}}),s.$on("select",e[0]),r=new Gt({props:{text:"2",keyCode:"50"}}),r.$on("select",e[0]),i=new Gt({props:{text:"3",keyCode:"51"}}),i.$on("select",e[0]),$=new Gt({props:{text:"4",keyCode:"52"}}),$.$on("select",e[0]),g=new Gt({props:{text:"5",keyCode:"53"}}),g.$on("select",e[0]),y=new Gt({props:{text:"6",keyCode:"54"}}),y.$on("select",e[0]),b=new Gt({props:{text:"7",keyCode:"55"}}),b.$on("select",e[0]),k=new Gt({props:{text:"8",keyCode:"56"}}),k.$on("select",e[0]),S=new Gt({props:{text:"9",keyCode:"57"}}),S.$on("select",e[0]),N=new Gt({props:{text:"10",keyCode:"65"}}),N.$on("select",e[0]),T=new Gt({props:{text:"11",keyCode:"66"}}),T.$on("select",e[0]),O=new Gt({props:{text:"12",keyCode:"67"}}),O.$on("select",e[0]),{c(){n=m("div"),z(s.$$.fragment),o=d(),z(r.$$.fragment),c=d(),z(i.$$.fragment),f=d(),z($.$$.fragment),p=d(),z(g.$$.fragment),v=d(),z(y.$$.fragment),w=d(),z(b.$$.fragment),x=d(),z(k.$$.fragment),C=d(),z(S.$$.fragment),_=d(),z(N.$$.fragment),D=d(),z(T.$$.fragment),M=d(),z(O.$$.fragment),h(n,"class","container svelte-1m2wkw2")},m(t,e){a(t,n,e),Y(s,n,null),l(n,o),Y(r,n,null),l(n,c),Y(i,n,null),l(n,f),Y($,n,null),l(n,p),Y(g,n,null),l(n,v),Y(y,n,null),l(n,w),Y(b,n,null),l(n,x),Y(k,n,null),l(n,C),Y(S,n,null),l(n,_),Y(N,n,null),l(n,D),Y(T,n,null),l(n,M),Y(O,n,null),P=!0},p:t,i(t){P||(H(s.$$.fragment,t),H(r.$$.fragment,t),H(i.$$.fragment,t),H($.$$.fragment,t),H(g.$$.fragment,t),H(y.$$.fragment,t),H(b.$$.fragment,t),H(k.$$.fragment,t),H(S.$$.fragment,t),H(N.$$.fragment,t),H(T.$$.fragment,t),H(O.$$.fragment,t),P=!0)},o(t){j(s.$$.fragment,t),j(r.$$.fragment,t),j(i.$$.fragment,t),j($.$$.fragment,t),j(g.$$.fragment,t),j(y.$$.fragment,t),j(b.$$.fragment,t),j(k.$$.fragment,t),j(S.$$.fragment,t),j(N.$$.fragment,t),j(T.$$.fragment,t),j(O.$$.fragment,t),P=!1},d(t){t&&u(n),B(s),B(r),B(i),B($),B(g),B(y),B(b),B(k),B(S),B(N),B(T),B(O)}}}function Qt(t,e,n){let{numbers:s=[]}=e;return t.$$set=t=>{"numbers"in t&&n(1,s=t.numbers)},[function(t){const e=t.detail.selected,n=Number(t.detail.text),o=s.includes(n);if(e&&!o)s.push(n);else if(o){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class At extends U{constructor(t){super(),K(this,t,Qt,Lt,r,{numbers:1})}}function It(e){let n,s,o,r,c,i,f,$,p;return s=new Gt({props:{text:"+",keyCode:"49",width:"22%"}}),s.$on("select",e[0]),r=new Gt({props:{text:"-",keyCode:"50",width:"22%"}}),r.$on("select",e[0]),i=new Gt({props:{text:"×",keyCode:"51",width:"22%"}}),i.$on("select",e[0]),$=new Gt({props:{text:"÷",keyCode:"52",width:"22%"}}),$.$on("select",e[0]),{c(){n=m("div"),z(s.$$.fragment),o=d(),z(r.$$.fragment),c=d(),z(i.$$.fragment),f=d(),z($.$$.fragment),h(n,"class","container svelte-1p2b84u")},m(t,e){a(t,n,e),Y(s,n,null),l(n,o),Y(r,n,null),l(n,c),Y(i,n,null),l(n,f),Y($,n,null),p=!0},p:t,i(t){p||(H(s.$$.fragment,t),H(r.$$.fragment,t),H(i.$$.fragment,t),H($.$$.fragment,t),p=!0)},o(t){j(s.$$.fragment,t),j(r.$$.fragment,t),j(i.$$.fragment,t),j($.$$.fragment,t),p=!1},d(t){t&&u(n),B(s),B(r),B(i),B($)}}}function Rt(t,e,n){let{operators:s=[]}=e;return t.$$set=t=>{"operators"in t&&n(1,s=t.operators)},[function(t){const e=t.detail.selected,n=t.detail.text,o=s.includes(n);if(e&&!o)s.push(n);else if(o){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class Ht extends U{constructor(t){super(),K(this,t,Rt,It,r,{operators:1})}}function jt(e){let n,s,o;return{c(){n=m("button"),n.textContent="🡐",h(n,"class","svelte-1k47ap5")},m(t,r){a(t,n,r),s||(o=g(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,o()}}}function Ft(t){const e=C();return[e,()=>e("back")]}class zt extends U{constructor(t){super(),K(this,t,Ft,jt,r,{})}}function Yt(t){let e,n,s,o,r,c,i,l;function f(e){t[8](e)}let m={};function $(e){t[9](e)}void 0!==t[1]&&(m.numbers=t[1]),e=new At({props:m}),_.push((()=>F(e,"numbers",f)));let p={};return void 0!==t[2]&&(p.operators=t[2]),o=new Ht({props:p}),_.push((()=>F(o,"operators",$))),i=new tt({props:{text:"Practice"}}),i.$on("click",t[5]),{c(){z(e.$$.fragment),s=d(),z(o.$$.fragment),c=d(),z(i.$$.fragment)},m(t,n){Y(e,t,n),a(t,s,n),Y(o,t,n),a(t,c,n),Y(i,t,n),l=!0},p(t,s){const c={};!n&&2&s&&(n=!0,c.numbers=t[1],P((()=>n=!1))),e.$set(c);const i={};!r&&4&s&&(r=!0,i.operators=t[2],P((()=>r=!1))),o.$set(i)},i(t){l||(H(e.$$.fragment,t),H(o.$$.fragment,t),H(i.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),j(o.$$.fragment,t),j(i.$$.fragment,t),l=!1},d(t){B(e,t),t&&u(s),B(o,t),t&&u(c),B(i,t)}}}function Bt(t){let e,n,s;function o(e){t[7](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new Pt({props:r}),_.push((()=>F(e,"game",o))),e.$on("difficulty",t[4]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function Jt(t){let e,n,s,o,r,c;e=new zt({}),e.$on("back",t[6]);const i=[Bt,Yt],l=[];function f(t,e){return t[0].options.mode!==V.practice?0:1}return s=f(t),o=l[s]=i[s](t),{c(){z(e.$$.fragment),n=d(),o.c(),r=p()},m(t,o){Y(e,t,o),a(t,n,o),l[s].m(t,o),a(t,r,o),c=!0},p(t,[e]){let n=s;s=f(t),s===n?l[s].p(t,e):(I(),j(l[n],1,1,(()=>{l[n]=null})),R(),o=l[s],o?o.p(t,e):(o=l[s]=i[s](t),o.c()),H(o,1),o.m(r.parentNode,r))},i(t){c||(H(e.$$.fragment,t),H(o),c=!0)},o(t){j(e.$$.fragment,t),j(o),c=!1},d(t){B(e,t),t&&u(n),l[s].d(t),t&&u(r)}}}function Kt(t,e,n){let s,o,{game:r}=e;const c=C();return t.$$set=t=>{"game"in t&&n(0,r=t.game)},[r,s,o,c,function(){c("play")},function(){n(0,r.options.numbers=s,r),n(0,r.options.operators=o,r),n(0,r.options.difficulty=W.medium,r),c("play")},()=>c("back"),function(t){r=t,n(0,r)},function(t){s=t,n(1,s)},function(t){o=t,n(2,o)}]}class Ut extends U{constructor(t){super(),K(this,t,Kt,Jt,r,{game:0})}}class Vt{constructor(t,e){this.game=t,this.options=t.options,this.selectedNumbersCount=this.options.numbers.length,this.selectedOperatorsCount=this.options.operators.length;let n=!0;for(;n;)this.operator=this.getOperator(),this.number1=this.getNumber1(),this.number2=this.getNumber2(),n=null!=e&&this.equals(e);this.fixNumbers(),this.answer=this.calculate(this.number1,this.number2,this.operator),this.choices=[],this.createChoices(),this.content=`${this.number1} ${this.operator} ${this.number2}`}getNumber1(){return this.options.numbers[this.getRandomInt(0,this.selectedNumbersCount)]}getNumber2(){const t=Math.max(1,this.game.level-3),e=2*(this.game.level+2),n=this.getRangeMultiplier();return this.getRandomInt(t,e)*n}getOperator(){return this.options.operators[this.getRandomInt(0,this.selectedOperatorsCount)]}fixNumbers(){switch(this.operator){case"-":this.number1<this.number2&&this.swapNumbers();break;case"÷":this.swapNumbers(),this.number1=this.number1*this.number2}}swapNumbers(){const t=this.number1;this.number1=this.number2,this.number2=t}calculate(t,e,n){switch(n){case"+":return t+e;case"-":return t-e;case"×":return t*e;case"÷":return t/e}return 0}getRandomInt(t,e){const n=e-t;return Math.floor(Math.random()*n)+t}createChoices(){this.choices.length=0,this.choices.push(this.answer);let t=3;for(;t>0;){let e=this.getNumber1(),n=this.getNumber2(),s=this.getOperator();if("-÷".includes(s)&&e<n){const t=e;e=n,n=t}"÷"===s&&(e*=n);let o=this.calculate(e,n,s);this.choices.includes(o)||(this.choices.push(o),t--)}this.shuffleChoices()}shuffleChoices(){var t=this.getRandomInt(0,this.choices.length);[this.choices[0],this.choices[t]]=[this.choices[t],this.choices[0]]}getRangeMultiplier(){switch(this.options.difficulty){case W.easy:return 1;case W.medium:return 2;case W.hard:return 3;case W.insane:return 6;default:return 1}}equals(t){return!!t&&(this.number1===t.number1&&this.number2===t.number2&&this.operator===t.operator)}}function Wt(e){let n,s;return{c(){n=m("div"),s=m("div"),h(s,"class","remaining svelte-nxk5m9"),y(s,"width",e[0]+"%"),y(s,"background-color","hsl("+(100-e[0])+", 100%, 50%)"),h(n,"class","timer svelte-nxk5m9")},m(t,e){a(t,n,e),l(n,s)},p(t,[e]){1&e&&y(s,"width",t[0]+"%"),1&e&&y(s,"background-color","hsl("+(100-t[0])+", 100%, 50%)")},i:t,o:t,d(t){t&&u(n)}}}function Xt(t,e){var n,s,o=!1,r=e;this.pause=function(){o=!0,window.clearTimeout(n),n=null,r-=Date.now()-s},this.resume=function(){n||(s=Date.now(),n=window.setTimeout(t,r),o=!1)},this.proportionRemaining=function(){return(o?e-r:Date.now()-s)/e},this.resume()}function Zt(t,e,n){const s=C();let o,{time:r=3e3}=e,c=100;function i(){n(0,c=100),o=new Xt((()=>{s("timeout")}),r)}return i(),function t(e){!function(){if(!o)return;n(0,c=100*o.proportionRemaining())}(),window.requestAnimationFrame(t)}(),t.$$set=t=>{"time"in t&&n(1,r=t.time)},[c,r,i,function(){o&&o.pause()}]}class te extends U{constructor(t){super(),K(this,t,Zt,Wt,r,{time:1,reset:2,pause:3})}get reset(){return this.$$.ctx[2]}get pause(){return this.$$.ctx[3]}}function ee(t){let e,n,s,o=t[0].lives+"";return{c(){e=m("span"),n=$("Lives: "),s=$(o)},m(t,o){a(t,e,o),l(e,n),l(e,s)},p(t,e){1&e&&o!==(o=t[0].lives+"")&&v(s,o)},d(t){t&&u(e)}}}function ne(e){let n,s,o,r,c,i,f,p,g,y=e[0].level+"",w=e[0].score+"",b=e[1]&&ee(e);return{c(){n=m("div"),s=m("span"),o=$("Level: "),r=$(y),c=d(),i=m("span"),f=$("Score: "),p=$(w),g=d(),b&&b.c(),h(i,"class","score svelte-1t467hs"),h(n,"class","info svelte-1t467hs")},m(t,e){a(t,n,e),l(n,s),l(s,o),l(s,r),l(n,c),l(n,i),l(i,f),l(i,p),l(n,g),b&&b.m(n,null)},p(t,[e]){1&e&&y!==(y=t[0].level+"")&&v(r,y),1&e&&w!==(w=t[0].score+"")&&v(p,w),t[1]?b?b.p(t,e):(b=ee(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&u(n),b&&b.d()}}}function se(t,e,n){let{game:s}=e,{showLives:o=!0}=e;return t.$$set=t=>{"game"in t&&n(0,s=t.game),"showLives"in t&&n(1,o=t.showLives)},[s,o]}class oe extends U{constructor(t){super(),K(this,t,se,ne,r,{game:0,showLives:1})}}function re(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function ce(t){let e,n;return e=new Gt({props:{text:t[7].toString(),keyCode:(49+t[9]).toString(),width:"22%",selected:t[1][t[9]],selectedColour:t[2][t[9]]}}),e.$on("select",t[3]),{c(){z(e.$$.fragment)},m(t,s){Y(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.text=t[7].toString()),2&n&&(s.selected=t[1][t[9]]),4&n&&(s.selectedColour=t[2][t[9]]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function ie(t){let e,n,s=t[0].choices,o=[];for(let e=0;e<s.length;e+=1)o[e]=ce(re(t,s,e));const r=t=>j(o[t],1,1,(()=>{o[t]=null}));return{c(){e=m("div");for(let t=0;t<o.length;t+=1)o[t].c();h(e,"class","choices svelte-1bi2uyh")},m(t,s){a(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(15&n){let c;for(s=t[0].choices,c=0;c<s.length;c+=1){const r=re(t,s,c);o[c]?(o[c].p(r,n),H(o[c],1)):(o[c]=ce(r),o[c].c(),H(o[c],1),o[c].m(e,null))}for(I(),c=s.length;c<o.length;c+=1)r(c);R()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)H(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)j(o[t]);n=!1},d(t){t&&u(e),f(o,t)}}}let le="#009933",ae="#0d6fa7";function ue(t,e,n){const s=C();let{currentQuestion:o}=e,r=[!1,!1,!1,!1],c=[ae,ae,ae,ae];function i(){n(1,r),n(2,c)}return t.$$set=t=>{"currentQuestion"in t&&n(0,o=t.currentQuestion)},[o,r,c,function(t){const e=Number(t.detail.text),l=e===o.answer;for(let t=0;t<o.choices.length;t++){var a=o.choices[t];a===e?(n(1,r[t]=!0,r),n(2,c[t]=l?le:"#993300",c)):a===o.answer?(n(1,r[t]=!0,r),n(2,c[t]=le,c)):(n(1,r[t]=!1,r),n(2,c[t]=ae,c))}i(),s("answer",{correct:l})},function(){for(let t=0;t<r.length;t++)n(1,r[t]=!1,r),n(2,c[t]=ae,c);i()}]}class fe extends U{constructor(t){super(),K(this,t,ue,ie,r,{currentQuestion:0,reset:4})}get reset(){return this.$$.ctx[4]}}function me(t){let e,n,s,o,r,c,i,f,p,g,y,w,b,x=t[1].content+"";function k(e){t[8](e)}function C(e){t[9](e)}let S={};function N(e){t[10](e)}void 0!==t[0]&&(S.game=t[0]),void 0!==t[5]&&(S.showLives=t[5]),e=new oe({props:S}),_.push((()=>F(e,"game",k))),_.push((()=>F(e,"showLives",C)));let D={};function T(e){t[12](e)}void 0!==t[1]&&(D.currentQuestion=t[1]),f=new fe({props:D}),_.push((()=>F(f,"currentQuestion",N))),t[11](f),f.$on("answer",t[6]);let M={};return void 0!==t[4]&&(M.time=t[4]),y=new te({props:M}),_.push((()=>F(y,"time",T))),t[13](y),y.$on("timeout",t[7]),{c(){z(e.$$.fragment),o=d(),r=m("div"),c=$(x),i=d(),z(f.$$.fragment),g=d(),z(y.$$.fragment),h(r,"class","question svelte-sm9ogi")},m(t,n){Y(e,t,n),a(t,o,n),a(t,r,n),l(r,c),a(t,i,n),Y(f,t,n),a(t,g,n),Y(y,t,n),b=!0},p(t,o){const r={};!n&&1&o&&(n=!0,r.game=t[0],P((()=>n=!1))),!s&&32&o&&(s=!0,r.showLives=t[5],P((()=>s=!1))),e.$set(r),(!b||2&o)&&x!==(x=t[1].content+"")&&v(c,x);const i={};!p&&2&o&&(p=!0,i.currentQuestion=t[1],P((()=>p=!1))),f.$set(i);const l={};!w&&16&o&&(w=!0,l.time=t[4],P((()=>w=!1))),y.$set(l)},i(t){b||(H(e.$$.fragment,t),H(f.$$.fragment,t),H(y.$$.fragment,t),b=!0)},o(t){j(e.$$.fragment,t),j(f.$$.fragment,t),j(y.$$.fragment,t),b=!1},d(n){B(e,n),n&&u(o),n&&u(r),n&&u(i),t[11](null),B(f,n),n&&u(g),t[13](null),B(y,n)}}}function $e(t){let e,n,s=t[1]&&me(t);return{c(){s&&s.c(),e=p()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&H(s,1)):(s=me(t),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(I(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(H(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function de(t,e,n){let{game:s}=e;const o=C();let r,c,i=null,l=s.defaultGameTime,a=!1;function u(){n(1,i=new Vt(s,i))}return u(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,i,r,c,l,a,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{u(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){o("gameover")},function(t){s=t,n(0,s)},function(t){a=t,n(5,a)},function(t){i=t,n(1,i)},function(t){_[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){l=t,n(4,l)},function(t){_[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class pe extends U{constructor(t){super(),K(this,t,de,$e,r,{game:0})}}function ge(t){let e,n,s,o,r,c,i,f,p,g,y,w,b=t[1].content+"";function x(e){t[7](e)}let k={};function C(e){t[8](e)}void 0!==t[0]&&(k.game=t[0]),e=new oe({props:k}),_.push((()=>F(e,"game",x)));let S={};function N(e){t[10](e)}void 0!==t[1]&&(S.currentQuestion=t[1]),i=new fe({props:S}),_.push((()=>F(i,"currentQuestion",C))),t[9](i),i.$on("answer",t[5]);let D={};return void 0!==t[4]&&(D.time=t[4]),g=new te({props:D}),_.push((()=>F(g,"time",N))),t[11](g),g.$on("timeout",t[6]),{c(){z(e.$$.fragment),s=d(),o=m("div"),r=$(b),c=d(),z(i.$$.fragment),p=d(),z(g.$$.fragment),h(o,"class","question svelte-sm9ogi")},m(t,n){Y(e,t,n),a(t,s,n),a(t,o,n),l(o,r),a(t,c,n),Y(i,t,n),a(t,p,n),Y(g,t,n),w=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],P((()=>n=!1))),e.$set(o),(!w||2&s)&&b!==(b=t[1].content+"")&&v(r,b);const c={};!f&&2&s&&(f=!0,c.currentQuestion=t[1],P((()=>f=!1))),i.$set(c);const l={};!y&&16&s&&(y=!0,l.time=t[4],P((()=>y=!1))),g.$set(l)},i(t){w||(H(e.$$.fragment,t),H(i.$$.fragment,t),H(g.$$.fragment,t),w=!0)},o(t){j(e.$$.fragment,t),j(i.$$.fragment,t),j(g.$$.fragment,t),w=!1},d(n){B(e,n),n&&u(s),n&&u(o),n&&u(c),t[9](null),B(i,n),n&&u(p),t[11](null),B(g,n)}}}function he(t){let e,n,s=t[1]&&ge(t);return{c(){s&&s.c(),e=p()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&H(s,1)):(s=ge(t),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(I(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(H(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function ve(t,e,n){let{game:s}=e;const o=C();let r,c,i=null,l=s.timePerQuestion,a=s.levelCounter;function u(){c&&c.pause(),s.lives<=0?o("gameover"):(n(1,i=new Vt(s,i)),c&&c.reset())}return u(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,i,r,c,l,function(t){var e=t.detail.correct;c.pause(),n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),a+=e?-1:0,a<=0&&function(){n(0,s.level++,s),a=s.levelCounter,n(4,l*=s.levelTimeDelta);for(let t=1;t<s.options.numbers.length+10;t++)if(s.options.numbers.indexOf(t)<0){s.options.numbers.push(t);break}if(s.options.operators.length<4&&s.level%2==0){const t=["+","-","×","÷"];for(let e=0;e<t.length;e++)if(s.options.operators.indexOf(t[e])<0){s.options.operators.push(t[e]);break}}}(),setTimeout((()=>{u(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){c.pause(),n(0,s.lives-=1,s),u()},function(t){s=t,n(0,s)},function(t){i=t,n(1,i)},function(t){_[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){l=t,n(4,l)},function(t){_[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class ye extends U{constructor(t){super(),K(this,t,ve,he,r,{game:0})}}function we(t){let e,n,s,o,r,c,i,f,p,g,y,w,b,x=t[1].content+"";function k(e){t[8](e)}function C(e){t[9](e)}let S={};function N(e){t[10](e)}void 0!==t[0]&&(S.game=t[0]),void 0!==t[5]&&(S.showLives=t[5]),e=new oe({props:S}),_.push((()=>F(e,"game",k))),_.push((()=>F(e,"showLives",C)));let D={};function T(e){t[12](e)}void 0!==t[1]&&(D.currentQuestion=t[1]),f=new fe({props:D}),_.push((()=>F(f,"currentQuestion",N))),t[11](f),f.$on("answer",t[6]);let M={};return void 0!==t[4]&&(M.time=t[4]),y=new te({props:M}),_.push((()=>F(y,"time",T))),t[13](y),y.$on("timeout",t[7]),{c(){z(e.$$.fragment),o=d(),r=m("div"),c=$(x),i=d(),z(f.$$.fragment),g=d(),z(y.$$.fragment),h(r,"class","question svelte-sm9ogi")},m(t,n){Y(e,t,n),a(t,o,n),a(t,r,n),l(r,c),a(t,i,n),Y(f,t,n),a(t,g,n),Y(y,t,n),b=!0},p(t,o){const r={};!n&&1&o&&(n=!0,r.game=t[0],P((()=>n=!1))),!s&&32&o&&(s=!0,r.showLives=t[5],P((()=>s=!1))),e.$set(r),(!b||2&o)&&x!==(x=t[1].content+"")&&v(c,x);const i={};!p&&2&o&&(p=!0,i.currentQuestion=t[1],P((()=>p=!1))),f.$set(i);const l={};!w&&16&o&&(w=!0,l.time=t[4],P((()=>w=!1))),y.$set(l)},i(t){b||(H(e.$$.fragment,t),H(f.$$.fragment,t),H(y.$$.fragment,t),b=!0)},o(t){j(e.$$.fragment,t),j(f.$$.fragment,t),j(y.$$.fragment,t),b=!1},d(n){B(e,n),n&&u(o),n&&u(r),n&&u(i),t[11](null),B(f,n),n&&u(g),t[13](null),B(y,n)}}}function be(t){let e,n,s=t[1]&&we(t);return{c(){s&&s.c(),e=p()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&H(s,1)):(s=we(t),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(I(),j(s,1,1,(()=>{s=null})),R())},i(t){n||(H(s),n=!0)},o(t){j(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function xe(t,e,n){let{game:s}=e;const o=C();let r,c,i=null,l=s.defaultGameTime,a=!1;function u(){n(1,i=new Vt(s,i))}return u(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,i,r,c,l,a,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{u(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){o("gameover")},function(t){s=t,n(0,s)},function(t){a=t,n(5,a)},function(t){i=t,n(1,i)},function(t){_[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){l=t,n(4,l)},function(t){_[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class ke extends U{constructor(t){super(),K(this,t,xe,be,r,{game:0})}}function Ce(t){let e,n,s;function o(e){t[4](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new pe({props:r}),_.push((()=>F(e,"game",o))),e.$on("gameover",t[1]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function Se(t){let e,n,s;function o(e){t[3](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new ke({props:r}),_.push((()=>F(e,"game",o))),e.$on("gameover",t[1]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function _e(t){let e,n,s;function o(e){t[2](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new ye({props:r}),_.push((()=>F(e,"game",o))),e.$on("gameover",t[1]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function Ne(t){let e,n,s,o;const r=[_e,Se,Ce],c=[];function i(t,e){return t[0].options.mode===V.standard?0:t[0].options.mode===V.timed?1:2}return e=i(t),n=c[e]=r[e](t),{c(){n.c(),s=p()},m(t,n){c[e].m(t,n),a(t,s,n),o=!0},p(t,[o]){let l=e;e=i(t),e===l?c[e].p(t,o):(I(),j(c[l],1,1,(()=>{c[l]=null})),R(),n=c[e],n?n.p(t,o):(n=c[e]=r[e](t),n.c()),H(n,1),n.m(s.parentNode,s))},i(t){o||(H(n),o=!0)},o(t){j(n),o=!1},d(t){c[e].d(t),t&&u(s)}}}function De(t,e,n){let{game:s}=e;const o=C();return t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,function(){o("gameover")},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)}]}class Te extends U{constructor(t){super(),K(this,t,De,Ne,r,{game:0})}}function Me(e){let n,s,o,r,c,i=e[0].score+"";return{c(){n=m("h1"),n.textContent="Game Over",s=d(),o=m("h2"),r=$("Score: "),c=$(i)},m(t,e){a(t,n,e),a(t,s,e),a(t,o,e),l(o,r),l(o,c)},p(t,[e]){1&e&&i!==(i=t[0].score+"")&&v(c,i)},i:t,o:t,d(t){t&&u(n),t&&u(s),t&&u(o)}}}function Oe(t,e,n){let s;c(t,mt,(t=>n(1,s=t)));let{game:o}=e;var r,i;return s||(r=mt,s=new ft,i=s,r.set(i)),dt.update(s,o),mt.set(s),t.$$set=t=>{"game"in t&&n(0,o=t.game)},[o]}class Pe extends U{constructor(t){super(),K(this,t,Oe,Me,r,{game:0})}}var qe;!function(t){t[t.home=0]="home",t[t.help=1]="help",t[t.stats=2]="stats",t[t.options=3]="options",t[t.play=4]="play",t[t.gameover=5]="gameover"}(qe||(qe={}));class Ee{constructor(){this.numbers=[],this.operators=[]}}class Ge{constructor(){this.reset()}reset(){this.options=new Ee,this.lives=3,this.level=1,this.score=0,this.pauseCorrectAnswer=200,this.pauseIncorrectAnswer=500,this.defaultGameTime=3e4,this.timePerQuestion=3e3,this.levelCounter=10,this.levelTimeDelta=.95}}function Le(t){let e,n,s,o,r,c,i;function l(e){t[13](e)}let f={};return void 0!==t[1]&&(f.game=t[1]),e=new Pe({props:f}),_.push((()=>F(e,"game",l))),{c(){z(e.$$.fragment),s=d(),o=m("button"),o.textContent="Home"},m(n,l){Y(e,n,l),a(n,s,l),a(n,o,l),r=!0,c||(i=g(o,"click",t[14]),c=!0)},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],P((()=>n=!1))),e.$set(o)},i(t){r||(H(e.$$.fragment,t),r=!0)},o(t){j(e.$$.fragment,t),r=!1},d(t){B(e,t),t&&u(s),t&&u(o),c=!1,i()}}}function Qe(t){let e,n,s;function o(e){t[12](e)}let r={};return void 0!==t[1]&&(r.game=t[1]),e=new Te({props:r}),_.push((()=>F(e,"game",o))),e.$on("gameover",t[4]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function Ae(t){let e,n,s;function o(e){t[9](e)}let r={};return void 0!==t[1]&&(r.game=t[1]),e=new Ut({props:r}),_.push((()=>F(e,"game",o))),e.$on("back",t[10]),e.$on("play",t[11]),{c(){z(e.$$.fragment)},m(t,n){Y(e,t,n),s=!0},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],P((()=>n=!1))),e.$set(o)},i(t){s||(H(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function Ie(e){let n,s;return n=new Tt({}),n.$on("close",e[8]),{c(){z(n.$$.fragment)},m(t,e){Y(n,t,e),s=!0},p:t,i(t){s||(H(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){B(n,t)}}}function Re(e){let n,s;return n=new at({}),n.$on("close",e[7]),{c(){z(n.$$.fragment)},m(t,e){Y(n,t,e),s=!0},p:t,i(t){s||(H(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){B(n,t)}}}function He(e){let n,s;return n=new st({}),n.$on("help",e[5]),n.$on("stats",e[6]),n.$on("options",e[3]),{c(){z(n.$$.fragment)},m(t,e){Y(n,t,e),s=!0},p:t,i(t){s||(H(n.$$.fragment,t),s=!0)},o(t){j(n.$$.fragment,t),s=!1},d(t){B(n,t)}}}function je(t){let e,n,s,o;const r=[He,Re,Ie,Ae,Qe,Le],c=[];function i(t,e){return t[0]===qe.home?0:t[0]===qe.help?1:t[0]===qe.stats?2:t[0]===qe.options?3:t[0]===qe.play?4:t[0]===qe.gameover?5:-1}return~(n=i(t))&&(s=c[n]=r[n](t)),{c(){e=m("main"),s&&s.c(),h(e,"class","svelte-1jsvcw")},m(t,s){a(t,e,s),~n&&c[n].m(e,null),o=!0},p(t,[o]){let l=n;n=i(t),n===l?~n&&c[n].p(t,o):(s&&(I(),j(c[l],1,1,(()=>{c[l]=null})),R()),~n?(s=c[n],s?s.p(t,o):(s=c[n]=r[n](t),s.c()),H(s,1),s.m(e,null)):s=null)},i(t){o||(H(s),o=!0)},o(t){j(s),o=!1},d(t){t&&u(e),~n&&c[n].d()}}}function Fe(t,e,n){let s=qe.home,o=new Ge;function r(t){n(0,s=t)}return[s,o,r,function(t){o.reset(),n(1,o.options.mode=t.detail.gameType,o),r(qe.options)},function(){r(qe.gameover)},()=>r(qe.help),()=>r(qe.stats),()=>r(qe.home),()=>r(qe.home),function(t){o=t,n(1,o)},()=>r(qe.home),()=>r(qe.play),function(t){o=t,n(1,o)},function(t){o=t,n(1,o)},()=>r(qe.home)]}return new class extends U{constructor(t){super(),K(this,t,Fe,je,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
