var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function f(){return m(" ")}function $(){return m("")}function p(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function h(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}let v;function w(t){v=t}function b(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}const x=[],y=[],k=[],C=[],S=Promise.resolve();let N=!1;function D(t){k.push(t)}function T(t){C.push(t)}const _=new Set;let M=0;function P(){if(0!==M)return;const t=v;do{try{for(;M<x.length;){const t=x[M];M++,w(t),E(t.$$)}}catch(t){throw x.length=0,M=0,t}for(w(null),x.length=0,M=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];_.has(e)||(_.add(e),e())}k.length=0}while(x.length);for(;C.length;)C.pop()();N=!1,_.clear(),w(t)}function E(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const q=new Set;let O;function Q(){O={r:0,c:[],p:O}}function A(){O.r||s(O.c),O=O.p}function L(t,e){t&&t.i&&(q.delete(t),t.i(e))}function I(t,e,n,s){if(t&&t.o){if(q.has(t))return;q.add(t),O.c.push((()=>{q.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}function G(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function R(t){t&&t.c()}function H(t,n,r,i){const{fragment:c,after_update:a}=t.$$;c&&c.m(n,r),i||D((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):s(n),t.$$.on_mount=[]})),a.forEach(D)}function j(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(x.push(t),N||(N=!0,S.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(e,o,r,i,c,a,l,m=[-1]){const f=v;w(e);const $=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:o.target||f.$$.root};l&&l($.root);let p=!1;if($.ctx=r?r(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return $.ctx&&c($.ctx[t],$.ctx[t]=o)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](o),p&&F(e,t)),n})):[],$.update(),p=!0,s($.before_update),$.fragment=!!i&&i($.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);$.fragment&&$.fragment.l(t),t.forEach(u)}else $.fragment&&$.fragment.c();o.intro&&L(e.$$.fragment),H(e,o.target,o.anchor,o.customElement),P()}w(f)}class Y{$destroy(){j(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var B;function J(e){let n,s,o,r;return{c(){n=l("button"),s=m(e[0]),d(n,"class","svelte-19ga9zu")},m(t,i){a(t,n,i),c(n,s),o||(r=p(n,"click",e[1]),o=!0)},p(t,[e]){1&e&&g(s,t[0])},i:t,o:t,d(t){t&&u(n),o=!1,r()}}}function K(t,e,n){let{text:s}=e;const o=b();return t.$$set=t=>{"text"in t&&n(0,s=t.text)},[s,function(){o("click",{text:s})}]}!function(t){t[t.standard=0]="standard",t[t.timed=1]="timed",t[t.practice=2]="practice"}(B||(B={}));class U extends Y{constructor(t){super(),z(this,t,K,J,r,{text:0})}}function V(e){let n,o,r,i,m,$,g,h,v,w,b,x,y,k,C,S,N,D,T;return w=new U({props:{text:"Play"}}),w.$on("click",e[3]),y=new U({props:{text:"Timed"}}),y.$on("click",e[4]),S=new U({props:{text:"Practice"}}),S.$on("click",e[5]),{c(){n=l("div"),o=l("button"),o.textContent="🛈",r=f(),i=l("button"),i.textContent="📈",m=f(),$=l("h1"),$.textContent="numberSTAR",g=f(),h=l("ul"),v=l("li"),R(w.$$.fragment),b=f(),x=l("li"),R(y.$$.fragment),k=f(),C=l("li"),R(S.$$.fragment),d(n,"class","utility"),d(v,"class","svelte-6llhpa"),d(x,"class","svelte-6llhpa"),d(C,"class","svelte-6llhpa"),d(h,"class","svelte-6llhpa")},m(t,s){a(t,n,s),c(n,o),c(n,r),c(n,i),a(t,m,s),a(t,$,s),a(t,g,s),a(t,h,s),c(h,v),H(w,v,null),c(h,b),c(h,x),H(y,x,null),c(h,k),c(h,C),H(S,C,null),N=!0,D||(T=[p(o,"click",e[1]),p(i,"click",e[2])],D=!0)},p:t,i(t){N||(L(w.$$.fragment,t),L(y.$$.fragment,t),L(S.$$.fragment,t),N=!0)},o(t){I(w.$$.fragment,t),I(y.$$.fragment,t),I(S.$$.fragment,t),N=!1},d(t){t&&u(n),t&&u(m),t&&u($),t&&u(g),t&&u(h),j(w),j(y),j(S),D=!1,s(T)}}}function W(t){const e=b();return[e,()=>e("help"),()=>e("stats"),()=>e("options",{gameType:B.standard}),()=>e("options",{gameType:B.timed}),()=>e("options",{gameType:B.practice})]}class X extends Y{constructor(t){super(),z(this,t,W,V,r,{})}}function Z(e){let n,s,o;return{c(){n=l("button"),n.textContent="×",d(n,"class","svelte-1pkrx8")},m(t,r){a(t,n,r),s||(o=p(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,o()}}}function tt(t){const e=b();return[e,()=>e("close")]}class et extends Y{constructor(t){super(),z(this,t,tt,Z,r,{})}}function nt(e){let n,s,o,r,i,c,m,$,p,d,g,h;return n=new et({}),n.$on("close",e[1]),{c(){R(n.$$.fragment),s=f(),o=l("h1"),o.textContent="How to play",r=f(),i=l("p"),i.textContent="Pick from one of the three available game modes: Standard, Timed and Practice.",c=f(),m=l("p"),m.textContent="Each mode presents a series of random questions and four possible answers. Select the correct answer before the time\r\n    runs out!",$=f(),p=l("p"),p.textContent="Both Standard and Timed allow you to select a difficulty level. Practice mode lets you choose the numbers and\r\n    operators you want to revise. This lets you practice your 7 times tables, for example.",d=f(),g=l("p"),g.textContent="Standard mode keeps going until you run out of lives. In timed and practice mode, answer as many questions as you\r\n    can within a minute."},m(t,e){H(n,t,e),a(t,s,e),a(t,o,e),a(t,r,e),a(t,i,e),a(t,c,e),a(t,m,e),a(t,$,e),a(t,p,e),a(t,d,e),a(t,g,e),h=!0},p:t,i(t){h||(L(n.$$.fragment,t),h=!0)},o(t){I(n.$$.fragment,t),h=!1},d(t){j(n,t),t&&u(s),t&&u(o),t&&u(r),t&&u(i),t&&u(c),t&&u(m),t&&u($),t&&u(p),t&&u(d),t&&u(g)}}}function st(t){const e=b();return[e,()=>e("close")]}class ot extends Y{constructor(t){super(),z(this,t,st,nt,r,{})}}const rt=[];class it{constructor(){this.gamesPlayed=0,this.maxStreak=0,this.currentStreak=0,this.stats=[]}}const ct=function(e,n=t){let s;const o=new Set;function i(t){if(r(e,t)&&(e=t,s)){const t=!rt.length;for(const t of o)t[1](),rt.push(t,e);if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,c=t){const a=[r,c];return o.add(a),1===o.size&&(s=n(i)||t),r(e),()=>{o.delete(a),0===o.size&&(s(),s=null)}}}}(JSON.parse(localStorage.getItem("numberStar_History")));function at(t){let e,n,s,o,r,i,$,p,h,v,w,b,x,y,k,C,S,N,D,T,_,M,P,E=(t[0]?.gamesPlayed??0)+"",q=(t[0]?.maxStreak??0)+"",O=(t[0]?.currentStreak??0)+"";return e=new et({}),e.$on("close",t[2]),{c(){R(e.$$.fragment),n=f(),s=l("h1"),s.textContent="Stats",o=f(),r=l("div"),i=l("div"),$=l("div"),p=m(E),h=f(),v=l("div"),v.textContent="Played",w=f(),b=l("div"),x=l("div"),y=m(q),k=f(),C=l("div"),C.textContent="Max Streak",S=f(),N=l("div"),D=l("div"),T=m(O),_=f(),M=l("div"),M.textContent="Current Streak",d($,"class","value svelte-37oekf"),d(v,"class","text svelte-37oekf"),d(i,"class","stat svelte-37oekf"),d(x,"class","value svelte-37oekf"),d(C,"class","text svelte-37oekf"),d(b,"class","stat svelte-37oekf"),d(D,"class","value svelte-37oekf"),d(M,"class","text svelte-37oekf"),d(N,"class","stat svelte-37oekf"),d(r,"class","mainStats svelte-37oekf")},m(t,u){H(e,t,u),a(t,n,u),a(t,s,u),a(t,o,u),a(t,r,u),c(r,i),c(i,$),c($,p),c(i,h),c(i,v),c(r,w),c(r,b),c(b,x),c(x,y),c(b,k),c(b,C),c(r,S),c(r,N),c(N,D),c(D,T),c(N,_),c(N,M),P=!0},p(t,[e]){(!P||1&e)&&E!==(E=(t[0]?.gamesPlayed??0)+"")&&g(p,E),(!P||1&e)&&q!==(q=(t[0]?.maxStreak??0)+"")&&g(y,q),(!P||1&e)&&O!==(O=(t[0]?.currentStreak??0)+"")&&g(T,O)},i(t){P||(L(e.$$.fragment,t),P=!0)},o(t){I(e.$$.fragment,t),P=!1},d(t){j(e,t),t&&u(n),t&&u(s),t&&u(o),t&&u(r)}}}function ut(t,e,n){let s;i(t,ct,(t=>n(0,s=t)));const o=b();return[s,o,()=>o("close")]}ct.subscribe((t=>localStorage.numberStar_History=JSON.stringify(t)));class lt extends Y{constructor(t){super(),z(this,t,ut,at,r,{})}}var mt;function ft(e){let n,s,o,r,i,m,$,p,g,h,v,w,b,x,y;return i=new U({props:{text:"Easy"}}),i.$on("click",e[0]),p=new U({props:{text:"Medium"}}),p.$on("click",e[0]),v=new U({props:{text:"Hard"}}),v.$on("click",e[0]),x=new U({props:{text:"Insane"}}),x.$on("click",e[0]),{c(){n=l("h1"),n.textContent="Select Difficulty",s=f(),o=l("ul"),r=l("li"),R(i.$$.fragment),m=f(),$=l("li"),R(p.$$.fragment),g=f(),h=l("li"),R(v.$$.fragment),w=f(),b=l("li"),R(x.$$.fragment),d(n,"class","svelte-1qvfcl"),d(r,"class","svelte-1qvfcl"),d($,"class","svelte-1qvfcl"),d(h,"class","svelte-1qvfcl"),d(b,"class","svelte-1qvfcl"),d(o,"class","svelte-1qvfcl")},m(t,e){a(t,n,e),a(t,s,e),a(t,o,e),c(o,r),H(i,r,null),c(o,m),c(o,$),H(p,$,null),c(o,g),c(o,h),H(v,h,null),c(o,w),c(o,b),H(x,b,null),y=!0},p:t,i(t){y||(L(i.$$.fragment,t),L(p.$$.fragment,t),L(v.$$.fragment,t),L(x.$$.fragment,t),y=!0)},o(t){I(i.$$.fragment,t),I(p.$$.fragment,t),I(v.$$.fragment,t),I(x.$$.fragment,t),y=!1},d(t){t&&u(n),t&&u(s),t&&u(o),j(i),j(p),j(v),j(x)}}}function $t(t,e,n){const s=b();let{game:o}=e;return t.$$set=t=>{"game"in t&&n(1,o=t.game)},[function(t){switch(t.detail.text){case"Easy":n(1,o.options.difficulty=mt.easy,o),n(1,o.options.numbers=[1,2,3],o),n(1,o.options.operators=["+"],o);break;case"Medium":n(1,o.options.difficulty=mt.medium,o),n(1,o.options.numbers=[1,2,3,4,5,6,7],o),n(1,o.options.operators=["+","-"],o);break;case"Hard":n(1,o.options.difficulty=mt.hard,o),n(1,o.options.numbers=[1,2,3,4,5,6,7,8,9,10,11,12],o),n(1,o.options.operators=["+","-","×"],o);break;case"Insane":n(1,o.options.difficulty=mt.insane,o),n(1,o.options.numbers=[3,4,5,6,7,8,9,11,12,13,14,15],o),n(1,o.options.operators=["+","-","×","÷"],o);break;default:n(1,o.options.difficulty=mt.medium,o)}s("difficulty")},o]}!function(t){t[t.easy=0]="easy",t[t.medium=1]="medium",t[t.hard=2]="hard",t[t.insane=3]="insane"}(mt||(mt={}));class pt extends Y{constructor(t){super(),z(this,t,$t,ft,r,{game:1})}}function dt(e){let n,o,r,i,f,$;return{c(){n=l("div"),o=l("span"),r=m(e[2]),d(o,"class","svelte-ktpdjl"),d(n,"style",i="width: "+e[1]+"; "+(e[0]?"background: "+e[3]+"; ":"")),d(n,"class","svelte-ktpdjl")},m(t,s){a(t,n,s),c(n,o),c(o,r),f||($=[p(n,"click",e[5]),p(n,"keyup",e[4])],f=!0)},p(t,[e]){4&e&&g(r,t[2]),11&e&&i!==(i="width: "+t[1]+"; "+(t[0]?"background: "+t[3]+"; ":""))&&d(n,"style",i)},i:t,o:t,d(t){t&&u(n),f=!1,s($)}}}function gt(t,e,n){let{width:s="30%"}=e,{selected:o=!1}=e,{text:r=""}=e,{keyCode:i="0"}=e,{selectedColour:c="#71C4F4"}=e;const a=b();function u(){n(0,o=!o),a("select",{text:r,selected:o})}return t.$$set=t=>{"width"in t&&n(1,s=t.width),"selected"in t&&n(0,o=t.selected),"text"in t&&n(2,r=t.text),"keyCode"in t&&n(6,i=t.keyCode),"selectedColour"in t&&n(3,c=t.selectedColour)},[o,s,r,c,function(t){console.log("Key up"),console.log(t.keyCode),t.keyCode==i&&u()},u,i]}class ht extends Y{constructor(t){super(),z(this,t,gt,dt,r,{width:1,selected:0,text:2,keyCode:6,selectedColour:3})}}function vt(e){let n,s,o,r,i,m,$,p,g,h,v,w,b,x,y,k,C,S,N,D,T,_,M,P,E;return s=new ht({props:{text:"1",keyCode:"49"}}),s.$on("select",e[0]),r=new ht({props:{text:"2",keyCode:"50"}}),r.$on("select",e[0]),m=new ht({props:{text:"3",keyCode:"51"}}),m.$on("select",e[0]),p=new ht({props:{text:"4",keyCode:"52"}}),p.$on("select",e[0]),h=new ht({props:{text:"5",keyCode:"53"}}),h.$on("select",e[0]),w=new ht({props:{text:"6",keyCode:"54"}}),w.$on("select",e[0]),x=new ht({props:{text:"7",keyCode:"55"}}),x.$on("select",e[0]),k=new ht({props:{text:"8",keyCode:"56"}}),k.$on("select",e[0]),S=new ht({props:{text:"9",keyCode:"57"}}),S.$on("select",e[0]),D=new ht({props:{text:"10",keyCode:"65"}}),D.$on("select",e[0]),_=new ht({props:{text:"11",keyCode:"66"}}),_.$on("select",e[0]),P=new ht({props:{text:"12",keyCode:"67"}}),P.$on("select",e[0]),{c(){n=l("div"),R(s.$$.fragment),o=f(),R(r.$$.fragment),i=f(),R(m.$$.fragment),$=f(),R(p.$$.fragment),g=f(),R(h.$$.fragment),v=f(),R(w.$$.fragment),b=f(),R(x.$$.fragment),y=f(),R(k.$$.fragment),C=f(),R(S.$$.fragment),N=f(),R(D.$$.fragment),T=f(),R(_.$$.fragment),M=f(),R(P.$$.fragment),d(n,"class","container svelte-1m2wkw2")},m(t,e){a(t,n,e),H(s,n,null),c(n,o),H(r,n,null),c(n,i),H(m,n,null),c(n,$),H(p,n,null),c(n,g),H(h,n,null),c(n,v),H(w,n,null),c(n,b),H(x,n,null),c(n,y),H(k,n,null),c(n,C),H(S,n,null),c(n,N),H(D,n,null),c(n,T),H(_,n,null),c(n,M),H(P,n,null),E=!0},p:t,i(t){E||(L(s.$$.fragment,t),L(r.$$.fragment,t),L(m.$$.fragment,t),L(p.$$.fragment,t),L(h.$$.fragment,t),L(w.$$.fragment,t),L(x.$$.fragment,t),L(k.$$.fragment,t),L(S.$$.fragment,t),L(D.$$.fragment,t),L(_.$$.fragment,t),L(P.$$.fragment,t),E=!0)},o(t){I(s.$$.fragment,t),I(r.$$.fragment,t),I(m.$$.fragment,t),I(p.$$.fragment,t),I(h.$$.fragment,t),I(w.$$.fragment,t),I(x.$$.fragment,t),I(k.$$.fragment,t),I(S.$$.fragment,t),I(D.$$.fragment,t),I(_.$$.fragment,t),I(P.$$.fragment,t),E=!1},d(t){t&&u(n),j(s),j(r),j(m),j(p),j(h),j(w),j(x),j(k),j(S),j(D),j(_),j(P)}}}function wt(t,e,n){let{numbers:s=[]}=e;return t.$$set=t=>{"numbers"in t&&n(1,s=t.numbers)},[function(t){const e=t.detail.selected,n=Number(t.detail.text),o=s.includes(n);if(e&&!o)s.push(n);else if(o){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class bt extends Y{constructor(t){super(),z(this,t,wt,vt,r,{numbers:1})}}function xt(e){let n,s,o,r,i,m,$,p,g;return s=new ht({props:{text:"+",keyCode:"49",width:"22%"}}),s.$on("select",e[0]),r=new ht({props:{text:"-",keyCode:"50",width:"22%"}}),r.$on("select",e[0]),m=new ht({props:{text:"×",keyCode:"51",width:"22%"}}),m.$on("select",e[0]),p=new ht({props:{text:"÷",keyCode:"52",width:"22%"}}),p.$on("select",e[0]),{c(){n=l("div"),R(s.$$.fragment),o=f(),R(r.$$.fragment),i=f(),R(m.$$.fragment),$=f(),R(p.$$.fragment),d(n,"class","container svelte-1p2b84u")},m(t,e){a(t,n,e),H(s,n,null),c(n,o),H(r,n,null),c(n,i),H(m,n,null),c(n,$),H(p,n,null),g=!0},p:t,i(t){g||(L(s.$$.fragment,t),L(r.$$.fragment,t),L(m.$$.fragment,t),L(p.$$.fragment,t),g=!0)},o(t){I(s.$$.fragment,t),I(r.$$.fragment,t),I(m.$$.fragment,t),I(p.$$.fragment,t),g=!1},d(t){t&&u(n),j(s),j(r),j(m),j(p)}}}function yt(t,e,n){let{operators:s=[]}=e;return t.$$set=t=>{"operators"in t&&n(1,s=t.operators)},[function(t){const e=t.detail.selected,n=t.detail.text,o=s.includes(n);if(e&&!o)s.push(n);else if(o){const t=s.indexOf(n,0);t>-1&&s.splice(t,1)}},s]}class kt extends Y{constructor(t){super(),z(this,t,yt,xt,r,{operators:1})}}function Ct(e){let n,s,o;return{c(){n=l("button"),n.textContent="🡐",d(n,"class","svelte-1k47ap5")},m(t,r){a(t,n,r),s||(o=p(n,"click",e[1]),s=!0)},p:t,i:t,o:t,d(t){t&&u(n),s=!1,o()}}}function St(t){const e=b();return[e,()=>e("back")]}class Nt extends Y{constructor(t){super(),z(this,t,St,Ct,r,{})}}function Dt(t){let e,n,s,o,r,i,c,l;function m(e){t[8](e)}let $={};function p(e){t[9](e)}void 0!==t[1]&&($.numbers=t[1]),e=new bt({props:$}),y.push((()=>G(e,"numbers",m)));let d={};return void 0!==t[2]&&(d.operators=t[2]),o=new kt({props:d}),y.push((()=>G(o,"operators",p))),c=new U({props:{text:"Practice"}}),c.$on("click",t[5]),{c(){R(e.$$.fragment),s=f(),R(o.$$.fragment),i=f(),R(c.$$.fragment)},m(t,n){H(e,t,n),a(t,s,n),H(o,t,n),a(t,i,n),H(c,t,n),l=!0},p(t,s){const i={};!n&&2&s&&(n=!0,i.numbers=t[1],T((()=>n=!1))),e.$set(i);const c={};!r&&4&s&&(r=!0,c.operators=t[2],T((()=>r=!1))),o.$set(c)},i(t){l||(L(e.$$.fragment,t),L(o.$$.fragment,t),L(c.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),I(o.$$.fragment,t),I(c.$$.fragment,t),l=!1},d(t){j(e,t),t&&u(s),j(o,t),t&&u(i),j(c,t)}}}function Tt(t){let e,n,s;function o(e){t[7](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new pt({props:r}),y.push((()=>G(e,"game",o))),e.$on("difficulty",t[4]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function _t(t){let e,n,s,o,r,i;e=new Nt({}),e.$on("back",t[6]);const c=[Tt,Dt],l=[];function m(t,e){return t[0].options.mode!==B.practice?0:1}return s=m(t),o=l[s]=c[s](t),{c(){R(e.$$.fragment),n=f(),o.c(),r=$()},m(t,o){H(e,t,o),a(t,n,o),l[s].m(t,o),a(t,r,o),i=!0},p(t,[e]){let n=s;s=m(t),s===n?l[s].p(t,e):(Q(),I(l[n],1,1,(()=>{l[n]=null})),A(),o=l[s],o?o.p(t,e):(o=l[s]=c[s](t),o.c()),L(o,1),o.m(r.parentNode,r))},i(t){i||(L(e.$$.fragment,t),L(o),i=!0)},o(t){I(e.$$.fragment,t),I(o),i=!1},d(t){j(e,t),t&&u(n),l[s].d(t),t&&u(r)}}}function Mt(t,e,n){let s,o,{game:r}=e;const i=b();return t.$$set=t=>{"game"in t&&n(0,r=t.game)},[r,s,o,i,function(){i("play")},function(){n(0,r.options.numbers=s,r),n(0,r.options.operators=o,r),n(0,r.options.difficulty=mt.medium,r),i("play")},()=>i("back"),function(t){r=t,n(0,r)},function(t){s=t,n(1,s)},function(t){o=t,n(2,o)}]}class Pt extends Y{constructor(t){super(),z(this,t,Mt,_t,r,{game:0})}}class Et{constructor(t,e){this.game=t,this.options=t.options,this.selectedNumbersCount=this.options.numbers.length,this.selectedOperatorsCount=this.options.operators.length;let n=!0;for(;n;)this.operator=this.getOperator(),this.number1=this.getNumber1(),this.number2=this.getNumber2(),n=null!=e&&this.equals(e);this.fixNumbers(),this.answer=this.calculate(this.number1,this.number2,this.operator),this.choices=[],this.createChoices(),this.content=`${this.number1} ${this.operator} ${this.number2}`}getNumber1(){return this.options.numbers[this.getRandomInt(0,this.selectedNumbersCount)]}getNumber2(){const t=Math.max(1,this.game.level-3),e=2*(this.game.level+2),n=this.getRangeMultiplier();return this.getRandomInt(t,e)*n}getOperator(){return this.options.operators[this.getRandomInt(0,this.selectedOperatorsCount)]}fixNumbers(){switch(this.operator){case"-":this.number1<this.number2&&this.swapNumbers();break;case"÷":this.swapNumbers(),this.number1=this.number1*this.number2}}swapNumbers(){const t=this.number1;this.number1=this.number2,this.number2=t}calculate(t,e,n){switch(n){case"+":return t+e;case"-":return t-e;case"×":return t*e;case"÷":return t/e}return 0}getRandomInt(t,e){const n=e-t;return Math.floor(Math.random()*n)+t}createChoices(){this.choices.length=0,this.choices.push(this.answer);let t=3;for(;t>0;){let e=this.getNumber1(),n=this.getNumber2(),s=this.getOperator();if("-÷".includes(s)&&e<n){const t=e;e=n,n=t}"÷"===s&&(e*=n);let o=this.calculate(e,n,s);this.choices.includes(o)||(this.choices.push(o),t--)}this.shuffleChoices()}shuffleChoices(){var t=this.getRandomInt(0,this.choices.length);[this.choices[0],this.choices[t]]=[this.choices[t],this.choices[0]]}getRangeMultiplier(){switch(this.options.difficulty){case mt.easy:return 1;case mt.medium:return 2;case mt.hard:return 3;case mt.insane:return 6;default:return 1}}equals(t){return!!t&&(this.number1===t.number1&&this.number2===t.number2&&this.operator===t.operator)}}function qt(e){let n,s;return{c(){n=l("div"),s=l("div"),d(s,"class","remaining svelte-nxk5m9"),h(s,"width",e[0]+"%"),h(s,"background-color","hsl("+(100-e[0])+", 100%, 50%)"),d(n,"class","timer svelte-nxk5m9")},m(t,e){a(t,n,e),c(n,s)},p(t,[e]){1&e&&h(s,"width",t[0]+"%"),1&e&&h(s,"background-color","hsl("+(100-t[0])+", 100%, 50%)")},i:t,o:t,d(t){t&&u(n)}}}function Ot(t,e){var n,s,o=!1,r=e;this.pause=function(){o=!0,window.clearTimeout(n),n=null,r-=Date.now()-s},this.resume=function(){n||(s=Date.now(),n=window.setTimeout(t,r),o=!1)},this.proportionRemaining=function(){return(o?e-r:Date.now()-s)/e},this.resume()}function Qt(t,e,n){const s=b();let o,{time:r=3e3}=e,i=100;function c(){n(0,i=100),o=new Ot((()=>{s("timeout")}),r)}return c(),function t(e){!function(){if(!o)return;n(0,i=100*o.proportionRemaining())}(),window.requestAnimationFrame(t)}(),t.$$set=t=>{"time"in t&&n(1,r=t.time)},[i,r,c,function(){o&&o.pause()}]}class At extends Y{constructor(t){super(),z(this,t,Qt,qt,r,{time:1,reset:2,pause:3})}get reset(){return this.$$.ctx[2]}get pause(){return this.$$.ctx[3]}}function Lt(t){let e,n,s,o=t[0].lives+"";return{c(){e=l("span"),n=m("Lives: "),s=m(o)},m(t,o){a(t,e,o),c(e,n),c(e,s)},p(t,e){1&e&&o!==(o=t[0].lives+"")&&g(s,o)},d(t){t&&u(e)}}}function It(e){let n,s,o,r,i,$,p,h,v,w=e[0].level+"",b=e[0].score+"",x=e[1]&&Lt(e);return{c(){n=l("div"),s=l("span"),o=m("Level: "),r=m(w),i=f(),$=l("span"),p=m("Score: "),h=m(b),v=f(),x&&x.c(),d($,"class","score svelte-1t467hs"),d(n,"class","info svelte-1t467hs")},m(t,e){a(t,n,e),c(n,s),c(s,o),c(s,r),c(n,i),c(n,$),c($,p),c($,h),c(n,v),x&&x.m(n,null)},p(t,[e]){1&e&&w!==(w=t[0].level+"")&&g(r,w),1&e&&b!==(b=t[0].score+"")&&g(h,b),t[1]?x?x.p(t,e):(x=Lt(t),x.c(),x.m(n,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&u(n),x&&x.d()}}}function Gt(t,e,n){let{game:s}=e,{showLives:o=!0}=e;return t.$$set=t=>{"game"in t&&n(0,s=t.game),"showLives"in t&&n(1,o=t.showLives)},[s,o]}class Rt extends Y{constructor(t){super(),z(this,t,Gt,It,r,{game:0,showLives:1})}}function Ht(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function jt(t){let e,n;return e=new ht({props:{text:t[7].toString(),keyCode:(49+t[9]).toString(),width:"22%",selected:t[1][t[9]],selectedColour:t[2][t[9]]}}),e.$on("select",t[3]),{c(){R(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.text=t[7].toString()),2&n&&(s.selected=t[1][t[9]]),4&n&&(s.selectedColour=t[2][t[9]]),e.$set(s)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Ft(t){let e,n,s=t[0].choices,o=[];for(let e=0;e<s.length;e+=1)o[e]=jt(Ht(t,s,e));const r=t=>I(o[t],1,1,(()=>{o[t]=null}));return{c(){e=l("div");for(let t=0;t<o.length;t+=1)o[t].c();d(e,"class","choices svelte-1bi2uyh")},m(t,s){a(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(15&n){let i;for(s=t[0].choices,i=0;i<s.length;i+=1){const r=Ht(t,s,i);o[i]?(o[i].p(r,n),L(o[i],1)):(o[i]=jt(r),o[i].c(),L(o[i],1),o[i].m(e,null))}for(Q(),i=s.length;i<o.length;i+=1)r(i);A()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)L(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)I(o[t]);n=!1},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t)}}}let zt="#009933",Yt="#0d6fa7";function Bt(t,e,n){const s=b();let{currentQuestion:o}=e,r=[!1,!1,!1,!1],i=[Yt,Yt,Yt,Yt];function c(){n(1,r),n(2,i)}return t.$$set=t=>{"currentQuestion"in t&&n(0,o=t.currentQuestion)},[o,r,i,function(t){const e=Number(t.detail.text),a=e===o.answer;for(let t=0;t<o.choices.length;t++){var u=o.choices[t];u===e?(n(1,r[t]=!0,r),n(2,i[t]=a?zt:"#993300",i)):u===o.answer?(n(1,r[t]=!0,r),n(2,i[t]=zt,i)):(n(1,r[t]=!1,r),n(2,i[t]=Yt,i))}c(),s("answer",{correct:a})},function(){for(let t=0;t<r.length;t++)n(1,r[t]=!1,r),n(2,i[t]=Yt,i);c()}]}class Jt extends Y{constructor(t){super(),z(this,t,Bt,Ft,r,{currentQuestion:0,reset:4})}get reset(){return this.$$.ctx[4]}}function Kt(t){let e,n,s,o,r,i,$,p,h,v,w,b,x,k=t[1].content+"";function C(e){t[8](e)}function S(e){t[9](e)}let N={};function D(e){t[10](e)}void 0!==t[0]&&(N.game=t[0]),void 0!==t[5]&&(N.showLives=t[5]),e=new Rt({props:N}),y.push((()=>G(e,"game",C))),y.push((()=>G(e,"showLives",S)));let _={};function M(e){t[12](e)}void 0!==t[1]&&(_.currentQuestion=t[1]),p=new Jt({props:_}),y.push((()=>G(p,"currentQuestion",D))),t[11](p),p.$on("answer",t[6]);let P={};return void 0!==t[4]&&(P.time=t[4]),w=new At({props:P}),y.push((()=>G(w,"time",M))),t[13](w),w.$on("timeout",t[7]),{c(){R(e.$$.fragment),o=f(),r=l("div"),i=m(k),$=f(),R(p.$$.fragment),v=f(),R(w.$$.fragment),d(r,"class","question svelte-sm9ogi")},m(t,n){H(e,t,n),a(t,o,n),a(t,r,n),c(r,i),a(t,$,n),H(p,t,n),a(t,v,n),H(w,t,n),x=!0},p(t,o){const r={};!n&&1&o&&(n=!0,r.game=t[0],T((()=>n=!1))),!s&&32&o&&(s=!0,r.showLives=t[5],T((()=>s=!1))),e.$set(r),(!x||2&o)&&k!==(k=t[1].content+"")&&g(i,k);const c={};!h&&2&o&&(h=!0,c.currentQuestion=t[1],T((()=>h=!1))),p.$set(c);const a={};!b&&16&o&&(b=!0,a.time=t[4],T((()=>b=!1))),w.$set(a)},i(t){x||(L(e.$$.fragment,t),L(p.$$.fragment,t),L(w.$$.fragment,t),x=!0)},o(t){I(e.$$.fragment,t),I(p.$$.fragment,t),I(w.$$.fragment,t),x=!1},d(n){j(e,n),n&&u(o),n&&u(r),n&&u($),t[11](null),j(p,n),n&&u(v),t[13](null),j(w,n)}}}function Ut(t){let e,n,s=t[1]&&Kt(t);return{c(){s&&s.c(),e=$()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&L(s,1)):(s=Kt(t),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(Q(),I(s,1,1,(()=>{s=null})),A())},i(t){n||(L(s),n=!0)},o(t){I(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function Vt(t,e,n){let{game:s}=e;const o=b();let r,i,c=null,a=s.defaultGameTime,u=!1;function l(){n(1,c=new Et(s,c))}return l(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,c,r,i,a,u,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{l(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){o("gameover")},function(t){s=t,n(0,s)},function(t){u=t,n(5,u)},function(t){c=t,n(1,c)},function(t){y[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){a=t,n(4,a)},function(t){y[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class Wt extends Y{constructor(t){super(),z(this,t,Vt,Ut,r,{game:0})}}function Xt(t){let e,n,s,o,r,i,$,p,h,v,w,b,x=t[1].content+"";function k(e){t[7](e)}let C={};function S(e){t[8](e)}void 0!==t[0]&&(C.game=t[0]),e=new Rt({props:C}),y.push((()=>G(e,"game",k)));let N={};function D(e){t[10](e)}void 0!==t[1]&&(N.currentQuestion=t[1]),$=new Jt({props:N}),y.push((()=>G($,"currentQuestion",S))),t[9]($),$.$on("answer",t[5]);let _={};return void 0!==t[4]&&(_.time=t[4]),v=new At({props:_}),y.push((()=>G(v,"time",D))),t[11](v),v.$on("timeout",t[6]),{c(){R(e.$$.fragment),s=f(),o=l("div"),r=m(x),i=f(),R($.$$.fragment),h=f(),R(v.$$.fragment),d(o,"class","question svelte-sm9ogi")},m(t,n){H(e,t,n),a(t,s,n),a(t,o,n),c(o,r),a(t,i,n),H($,t,n),a(t,h,n),H(v,t,n),b=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],T((()=>n=!1))),e.$set(o),(!b||2&s)&&x!==(x=t[1].content+"")&&g(r,x);const i={};!p&&2&s&&(p=!0,i.currentQuestion=t[1],T((()=>p=!1))),$.$set(i);const c={};!w&&16&s&&(w=!0,c.time=t[4],T((()=>w=!1))),v.$set(c)},i(t){b||(L(e.$$.fragment,t),L($.$$.fragment,t),L(v.$$.fragment,t),b=!0)},o(t){I(e.$$.fragment,t),I($.$$.fragment,t),I(v.$$.fragment,t),b=!1},d(n){j(e,n),n&&u(s),n&&u(o),n&&u(i),t[9](null),j($,n),n&&u(h),t[11](null),j(v,n)}}}function Zt(t){let e,n,s=t[1]&&Xt(t);return{c(){s&&s.c(),e=$()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&L(s,1)):(s=Xt(t),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(Q(),I(s,1,1,(()=>{s=null})),A())},i(t){n||(L(s),n=!0)},o(t){I(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function te(t,e,n){let{game:s}=e;const o=b();let r,i,c=null,a=s.timePerQuestion,u=s.levelCounter;function l(){i&&i.pause(),s.lives<=0?o("gameover"):(n(1,c=new Et(s,c)),i&&i.reset())}return l(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,c,r,i,a,function(t){var e=t.detail.correct;i.pause(),n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),u+=e?-1:0,u<=0&&function(){n(0,s.level++,s),u=s.levelCounter,n(4,a*=s.levelTimeDelta);for(let t=1;t<s.options.numbers.length+10;t++)if(s.options.numbers.indexOf(t)<0){s.options.numbers.push(t);break}if(s.options.operators.length<4&&s.level%2==0){const t=["+","-","×","÷"];for(let e=0;e<t.length;e++)if(s.options.operators.indexOf(t[e])<0){s.options.operators.push(t[e]);break}}}(),setTimeout((()=>{l(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){i.pause(),n(0,s.lives-=1,s),l()},function(t){s=t,n(0,s)},function(t){c=t,n(1,c)},function(t){y[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){a=t,n(4,a)},function(t){y[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class ee extends Y{constructor(t){super(),z(this,t,te,Zt,r,{game:0})}}function ne(t){let e,n,s,o,r,i,$,p,h,v,w,b,x,k=t[1].content+"";function C(e){t[8](e)}function S(e){t[9](e)}let N={};function D(e){t[10](e)}void 0!==t[0]&&(N.game=t[0]),void 0!==t[5]&&(N.showLives=t[5]),e=new Rt({props:N}),y.push((()=>G(e,"game",C))),y.push((()=>G(e,"showLives",S)));let _={};function M(e){t[12](e)}void 0!==t[1]&&(_.currentQuestion=t[1]),p=new Jt({props:_}),y.push((()=>G(p,"currentQuestion",D))),t[11](p),p.$on("answer",t[6]);let P={};return void 0!==t[4]&&(P.time=t[4]),w=new At({props:P}),y.push((()=>G(w,"time",M))),t[13](w),w.$on("timeout",t[7]),{c(){R(e.$$.fragment),o=f(),r=l("div"),i=m(k),$=f(),R(p.$$.fragment),v=f(),R(w.$$.fragment),d(r,"class","question svelte-sm9ogi")},m(t,n){H(e,t,n),a(t,o,n),a(t,r,n),c(r,i),a(t,$,n),H(p,t,n),a(t,v,n),H(w,t,n),x=!0},p(t,o){const r={};!n&&1&o&&(n=!0,r.game=t[0],T((()=>n=!1))),!s&&32&o&&(s=!0,r.showLives=t[5],T((()=>s=!1))),e.$set(r),(!x||2&o)&&k!==(k=t[1].content+"")&&g(i,k);const c={};!h&&2&o&&(h=!0,c.currentQuestion=t[1],T((()=>h=!1))),p.$set(c);const a={};!b&&16&o&&(b=!0,a.time=t[4],T((()=>b=!1))),w.$set(a)},i(t){x||(L(e.$$.fragment,t),L(p.$$.fragment,t),L(w.$$.fragment,t),x=!0)},o(t){I(e.$$.fragment,t),I(p.$$.fragment,t),I(w.$$.fragment,t),x=!1},d(n){j(e,n),n&&u(o),n&&u(r),n&&u($),t[11](null),j(p,n),n&&u(v),t[13](null),j(w,n)}}}function se(t){let e,n,s=t[1]&&ne(t);return{c(){s&&s.c(),e=$()},m(t,o){s&&s.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&L(s,1)):(s=ne(t),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(Q(),I(s,1,1,(()=>{s=null})),A())},i(t){n||(L(s),n=!0)},o(t){I(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function oe(t,e,n){let{game:s}=e;const o=b();let r,i,c=null,a=s.defaultGameTime,u=!1;function l(){n(1,c=new Et(s,c))}return l(),t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,c,r,i,a,u,function(t){var e=t.detail.correct;n(0,s.score+=e?1:0,s),n(0,s.lives-=e?0:1,s),setTimeout((()=>{l(),r.reset()}),e?s.pauseCorrectAnswer:s.pauseIncorrectAnswer)},function(){o("gameover")},function(t){s=t,n(0,s)},function(t){u=t,n(5,u)},function(t){c=t,n(1,c)},function(t){y[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){a=t,n(4,a)},function(t){y[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class re extends Y{constructor(t){super(),z(this,t,oe,se,r,{game:0})}}function ie(t){let e,n,s;function o(e){t[4](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new Wt({props:r}),y.push((()=>G(e,"game",o))),e.$on("gameover",t[1]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ce(t){let e,n,s;function o(e){t[3](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new re({props:r}),y.push((()=>G(e,"game",o))),e.$on("gameover",t[1]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ae(t){let e,n,s;function o(e){t[2](e)}let r={};return void 0!==t[0]&&(r.game=t[0]),e=new ee({props:r}),y.push((()=>G(e,"game",o))),e.$on("gameover",t[1]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&1&s&&(n=!0,o.game=t[0],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ue(t){let e,n,s,o;const r=[ae,ce,ie],i=[];function c(t,e){return t[0].options.mode===B.standard?0:t[0].options.mode===B.timed?1:2}return e=c(t),n=i[e]=r[e](t),{c(){n.c(),s=$()},m(t,n){i[e].m(t,n),a(t,s,n),o=!0},p(t,[o]){let a=e;e=c(t),e===a?i[e].p(t,o):(Q(),I(i[a],1,1,(()=>{i[a]=null})),A(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),L(n,1),n.m(s.parentNode,s))},i(t){o||(L(n),o=!0)},o(t){I(n),o=!1},d(t){i[e].d(t),t&&u(s)}}}function le(t,e,n){let{game:s}=e;const o=b();return t.$$set=t=>{"game"in t&&n(0,s=t.game)},[s,function(){o("gameover")},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)},function(t){s=t,n(0,s)}]}class me extends Y{constructor(t){super(),z(this,t,le,ue,r,{game:0})}}class fe{constructor(){this.highScore=0,this.last10Games=[]}}class $e{static update(t,e){$e.setStreak(t),t.gamesPlayed++;const n=$e.getHistoryGame(t,e);10==n.last10Games.length&&n.last10Games.shift(),n.last10Games.push(e.score),n.highScore=Math.max(n.highScore,e.score)}static getHistoryGame(t,e){let n=t.stats.find((t=>t.difficulty===e.options.difficulty&&t.mode===e.options.mode));return n||(n=new fe,n.difficulty=e.options.difficulty,n.mode=e.options.mode,t.stats.push(n)),n}static setStreak(t){t.currentDate?this.isYesterday(new Date(t.currentDate))?(t.currentDate=new Date,t.currentStreak++):this.isToday(new Date(t.currentDate))||$e.resetStreak(t):$e.resetStreak(t),$e.setMaxStreak(t)}static isToday(t){const e=new Date;return this.doDatesMatch(t,e)}static isYesterday(t){let e=new Date;return e.setDate(e.getDate()-1),this.doDatesMatch(t,e)}static doDatesMatch(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}static setMaxStreak(t){t.currentStreak>t.maxStreak&&(t.maxStreak=t.currentStreak)}static resetStreak(t){t.currentDate=new Date,t.currentStreak=1}}function pe(e){let n,s,o,r,i,$=e[0].score+"";return{c(){n=l("h1"),n.textContent="Game Over",s=f(),o=l("h2"),r=m("Score: "),i=m($)},m(t,e){a(t,n,e),a(t,s,e),a(t,o,e),c(o,r),c(o,i)},p(t,[e]){1&e&&$!==($=t[0].score+"")&&g(i,$)},i:t,o:t,d(t){t&&u(n),t&&u(s),t&&u(o)}}}function de(t,e,n){let s;i(t,ct,(t=>n(1,s=t)));let{game:o}=e;var r,c;return s||(r=ct,s=new it,c=s,r.set(c)),$e.update(s,o),ct.set(s),t.$$set=t=>{"game"in t&&n(0,o=t.game)},[o]}class ge extends Y{constructor(t){super(),z(this,t,de,pe,r,{game:0})}}var he;!function(t){t[t.home=0]="home",t[t.help=1]="help",t[t.stats=2]="stats",t[t.options=3]="options",t[t.play=4]="play",t[t.gameover=5]="gameover"}(he||(he={}));class ve{constructor(){this.numbers=[],this.operators=[]}}class we{constructor(){this.reset()}reset(){this.options=new ve,this.lives=3,this.level=1,this.score=0,this.pauseCorrectAnswer=200,this.pauseIncorrectAnswer=500,this.defaultGameTime=3e4,this.timePerQuestion=3e3,this.levelCounter=10,this.levelTimeDelta=.95}}function be(t){let e,n,s,o,r,i,c;function m(e){t[13](e)}let $={};return void 0!==t[1]&&($.game=t[1]),e=new ge({props:$}),y.push((()=>G(e,"game",m))),{c(){R(e.$$.fragment),s=f(),o=l("button"),o.textContent="Home"},m(n,u){H(e,n,u),a(n,s,u),a(n,o,u),r=!0,i||(c=p(o,"click",t[14]),i=!0)},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],T((()=>n=!1))),e.$set(o)},i(t){r||(L(e.$$.fragment,t),r=!0)},o(t){I(e.$$.fragment,t),r=!1},d(t){j(e,t),t&&u(s),t&&u(o),i=!1,c()}}}function xe(t){let e,n,s;function o(e){t[12](e)}let r={};return void 0!==t[1]&&(r.game=t[1]),e=new me({props:r}),y.push((()=>G(e,"game",o))),e.$on("gameover",t[4]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ye(t){let e,n,s;function o(e){t[9](e)}let r={};return void 0!==t[1]&&(r.game=t[1]),e=new Pt({props:r}),y.push((()=>G(e,"game",o))),e.$on("back",t[10]),e.$on("play",t[11]),{c(){R(e.$$.fragment)},m(t,n){H(e,t,n),s=!0},p(t,s){const o={};!n&&2&s&&(n=!0,o.game=t[1],T((()=>n=!1))),e.$set(o)},i(t){s||(L(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ke(e){let n,s;return n=new lt({}),n.$on("close",e[8]),{c(){R(n.$$.fragment)},m(t,e){H(n,t,e),s=!0},p:t,i(t){s||(L(n.$$.fragment,t),s=!0)},o(t){I(n.$$.fragment,t),s=!1},d(t){j(n,t)}}}function Ce(e){let n,s;return n=new ot({}),n.$on("close",e[7]),{c(){R(n.$$.fragment)},m(t,e){H(n,t,e),s=!0},p:t,i(t){s||(L(n.$$.fragment,t),s=!0)},o(t){I(n.$$.fragment,t),s=!1},d(t){j(n,t)}}}function Se(e){let n,s;return n=new X({}),n.$on("help",e[5]),n.$on("stats",e[6]),n.$on("options",e[3]),{c(){R(n.$$.fragment)},m(t,e){H(n,t,e),s=!0},p:t,i(t){s||(L(n.$$.fragment,t),s=!0)},o(t){I(n.$$.fragment,t),s=!1},d(t){j(n,t)}}}function Ne(t){let e,n,s,o;const r=[Se,Ce,ke,ye,xe,be],i=[];function c(t,e){return t[0]===he.home?0:t[0]===he.help?1:t[0]===he.stats?2:t[0]===he.options?3:t[0]===he.play?4:t[0]===he.gameover?5:-1}return~(n=c(t))&&(s=i[n]=r[n](t)),{c(){e=l("main"),s&&s.c(),d(e,"class","svelte-1jsvcw")},m(t,s){a(t,e,s),~n&&i[n].m(e,null),o=!0},p(t,[o]){let a=n;n=c(t),n===a?~n&&i[n].p(t,o):(s&&(Q(),I(i[a],1,1,(()=>{i[a]=null})),A()),~n?(s=i[n],s?s.p(t,o):(s=i[n]=r[n](t),s.c()),L(s,1),s.m(e,null)):s=null)},i(t){o||(L(s),o=!0)},o(t){I(s),o=!1},d(t){t&&u(e),~n&&i[n].d()}}}function De(t,e,n){let s=he.home,o=new we;function r(t){n(0,s=t)}return[s,o,r,function(t){o.reset(),n(1,o.options.mode=t.detail.gameType,o),r(he.options)},function(){r(he.gameover)},()=>r(he.help),()=>r(he.stats),()=>r(he.home),()=>r(he.home),function(t){o=t,n(1,o)},()=>r(he.home),()=>r(he.play),function(t){o=t,n(1,o)},function(t){o=t,n(1,o)},()=>r(he.home)]}return new class extends Y{constructor(t){super(),z(this,t,De,Ne,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
